import{S as R,i as C,s as H,e as I,c as j,a as $,d as b,b as v,g as S,Y as V,o as g,p as E,q as h,F as L,v as Q,n as U,H as W,w as x,x as A,y as D,O,B as T,k as Y,t as G,m as J,h as K,a3 as B,T as F,j as X,Q as M,a4 as Z,a5 as ee}from"../../chunks/vendor-8c4d5061.js";import{p as te,w as se,s as oe}from"../../chunks/config-afbf66c2.js";import{b as N}from"../../chunks/paths-b0acc198.js";import{L as ae}from"../../chunks/LoadingInfo-a01c39bf.js";import{g as ne}from"../../chunks/navigation-ecedacd4.js";function re(r){let s,t;return s=new ae({}),{c(){x(s.$$.fragment)},l(e){A(s.$$.fragment,e)},m(e,l){D(s,e,l),t=!0},p:O,i(e){t||(h(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){T(s,e)}}}function le(r){let s,t,e,l,f,u,_,c,m,a;const i=[ie,ce],n=[];function y(o,d){return o[2]?0:1}return t=y(r),e=n[t]=i[t](r),{c(){s=I("div"),e.c(),l=Y(),f=I("div"),u=I("span"),_=G(r[0]),this.h()},l(o){s=j(o,"DIV",{class:!0});var d=$(s);e.l(d),d.forEach(b),l=J(o),f=j(o,"DIV",{class:!0});var p=$(f);u=j(p,"SPAN",{class:!0});var w=$(u);_=K(w,r[0]),w.forEach(b),p.forEach(b),this.h()},h(){v(s,"class","absolute top-3 left-3"),v(u,"class","clock svelte-1eujyxo"),B(u,"text-red-600",r[1]),v(f,"class","h-full w-full flex flex-col justify-center items-center")},m(o,d){S(o,s,d),n[t].m(s,null),S(o,l,d),S(o,f,d),F(f,u),F(u,_),c=!0,m||(a=V(s,"click",r[6]),m=!0)},p(o,d){let p=t;t=y(o),t===p?n[t].p(o,d):(U(),g(n[p],1,1,()=>{n[p]=null}),E(),e=n[t],e?e.p(o,d):(e=n[t]=i[t](o),e.c()),h(e,1),e.m(s,null)),(!c||d&1)&&X(_,o[0]),d&2&&B(u,"text-red-600",o[1])},i(o){c||(h(e),c=!0)},o(o){g(e),c=!1},d(o){o&&b(s),n[t].d(),o&&b(l),o&&b(f),m=!1,a()}}}function ce(r){let s,t;return s=new M({props:{icon:Z,size:"2x"}}),{c(){x(s.$$.fragment)},l(e){A(s.$$.fragment,e)},m(e,l){D(s,e,l),t=!0},p:O,i(e){t||(h(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){T(s,e)}}}function ie(r){let s,t;return s=new M({props:{icon:ee,size:"2x"}}),{c(){x(s.$$.fragment)},l(e){A(s.$$.fragment,e)},m(e,l){D(s,e,l),t=!0},p:O,i(e){t||(h(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){T(s,e)}}}function ue(r){let s,t,e,l,f,u;const _=[le,re],c=[];function m(a,i){return a[3]?1:0}return t=m(r),e=c[t]=_[t](r),{c(){s=I("div"),e.c(),this.h()},l(a){s=j(a,"DIV",{id:!0,class:!0});var i=$(s);e.l(i),i.forEach(b),this.h()},h(){v(s,"id","main"),v(s,"class","w-full h-full overflow-hidden svelte-1eujyxo")},m(a,i){S(a,s,i),c[t].m(s,null),l=!0,f||(u=V(s,"click",r[4],{once:!0}),f=!0)},p(a,[i]){let n=t;t=m(a),t===n?c[t].p(a,i):(U(),g(c[n],1,1,()=>{c[n]=null}),E(),e=c[t],e?e.p(a,i):(e=c[t]=_[t](a),e.c()),h(e,1),e.m(s,null))},i(a){l||(h(e),l=!0)},o(a){g(e),l=!1},d(a){a&&b(s),c[t].d(),f=!1,u()}}}function fe(r,s,t){let e,l;L(r,te,p=>t(10,e=p)),L(r,W,p=>t(3,l=p));let f=e.params.roomId,u,_,c="",m=!1,a,i=!1,n;Q(()=>{o(),n=new Audio(N+"/audio/beep.mp3")});function y(){t(2,i=!0),n.play(),n.pause(),n.load()}function o(){u=new WebSocket(se+"://"+oe+"/"+f),u.onerror=function(k){console.log(k)},u.onmessage=function(k){if(k.data==="ROOM_NOT_FOUND")alert("The room "+f+" does not exist"),ne(N+"/");else{let z=k.data.substring(0,1),P=k.data.substring(2).includes(";")?k.data.substring(2).split(";"):[k.data.substring(2)];switch(z){case"t":t(5,_=parseInt(P[1])),_==0?p():w();break}}};function p(){a===void 0&&(t(1,m=!0),q(),a=setInterval(function(){t(1,m=!m)},500))}function w(){a&&(clearInterval(a),a=void 0,t(1,m=!1))}function q(){i&&(n.play(),setTimeout(function(){n.pause(),n.load()},2e3))}}const d=()=>t(2,i=!i);return r.$$.update=()=>{r.$$.dirty&32&&_!==void 0&&t(0,c=_.toString().padStart(2,"0"))},[c,m,i,l,y,_,d]}class ke extends R{constructor(s){super();C(this,s,fe,ue,H,{})}}export{ke as default};
