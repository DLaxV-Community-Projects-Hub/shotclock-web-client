import{S as z,i as C,s as G,e as I,c as $,a as j,d as b,b as v,g as S,X as x,o as g,p as E,q as h,F as O,v as W,n as T,G as X,w as A,x as D,y as L,L as V,B as q,k as H,t as J,m as K,h as Q,a4 as U,R as B,j as Y,P as F,a5 as Z,a6 as ee}from"../../chunks/vendor-9018bcf9.js";import{p as te,w as se,s as oe}from"../../chunks/config-e6462f7e.js";import{b as M}from"../../chunks/paths-b0acc198.js";import{L as ae}from"../../chunks/LoadingInfo-4a044bd9.js";import{g as ne}from"../../chunks/navigation-ecedacd4.js";function le(l){let s,t;return s=new ae({}),{c(){A(s.$$.fragment)},l(e){D(s.$$.fragment,e)},m(e,r){L(s,e,r),t=!0},p:V,i(e){t||(h(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){q(s,e)}}}function re(l){let s,t,e,r,f,u,_,i,m,a;const c=[ce,ie],n=[];function w(o,d){return o[2]?0:1}return t=w(l),e=n[t]=c[t](l),{c(){s=I("div"),e.c(),r=H(),f=I("div"),u=I("span"),_=J(l[0]),this.h()},l(o){s=$(o,"DIV",{class:!0});var d=j(s);e.l(d),d.forEach(b),r=K(o),f=$(o,"DIV",{class:!0});var p=j(f);u=$(p,"SPAN",{class:!0});var y=j(u);_=Q(y,l[0]),y.forEach(b),p.forEach(b),this.h()},h(){v(s,"class","absolute top-3 left-3"),v(u,"class","clock svelte-1fdq5l4"),U(u,"text-red-600",l[1]),v(f,"class","h-full w-full flex flex-col justify-center items-center")},m(o,d){S(o,s,d),n[t].m(s,null),S(o,r,d),S(o,f,d),B(f,u),B(u,_),i=!0,m||(a=x(s,"click",l[6]),m=!0)},p(o,d){let p=t;t=w(o),t===p?n[t].p(o,d):(T(),g(n[p],1,1,()=>{n[p]=null}),E(),e=n[t],e?e.p(o,d):(e=n[t]=c[t](o),e.c()),h(e,1),e.m(s,null)),(!i||d&1)&&Y(_,o[0]),d&2&&U(u,"text-red-600",o[1])},i(o){i||(h(e),i=!0)},o(o){g(e),i=!1},d(o){o&&b(s),n[t].d(),o&&b(r),o&&b(f),m=!1,a()}}}function ie(l){let s,t;return s=new F({props:{icon:Z,size:"2x"}}),{c(){A(s.$$.fragment)},l(e){D(s.$$.fragment,e)},m(e,r){L(s,e,r),t=!0},p:V,i(e){t||(h(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){q(s,e)}}}function ce(l){let s,t;return s=new F({props:{icon:ee,size:"2x"}}),{c(){A(s.$$.fragment)},l(e){D(s.$$.fragment,e)},m(e,r){L(s,e,r),t=!0},p:V,i(e){t||(h(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){q(s,e)}}}function ue(l){let s,t,e,r,f,u;const _=[re,le],i=[];function m(a,c){return a[3]?1:0}return t=m(l),e=i[t]=_[t](l),{c(){s=I("div"),e.c(),this.h()},l(a){s=$(a,"DIV",{id:!0,class:!0});var c=j(s);e.l(c),c.forEach(b),this.h()},h(){v(s,"id","main"),v(s,"class","w-full h-full overflow-hidden svelte-1fdq5l4")},m(a,c){S(a,s,c),i[t].m(s,null),r=!0,f||(u=x(s,"click",l[4],{once:!0}),f=!0)},p(a,[c]){let n=t;t=m(a),t===n?i[t].p(a,c):(T(),g(i[n],1,1,()=>{i[n]=null}),E(),e=i[t],e?e.p(a,c):(e=i[t]=_[t](a),e.c()),h(e,1),e.m(s,null))},i(a){r||(h(e),r=!0)},o(a){g(e),r=!1},d(a){a&&b(s),i[t].d(),f=!1,u()}}}function fe(l,s,t){let e,r;O(l,te,p=>t(10,e=p)),O(l,X,p=>t(3,r=p));let f=e.params.roomId,u,_,i="",m=!1,a,c=!1,n;W(()=>{o(),n=new Audio(M+"/audio/beep.mp3")});function w(){t(2,c=!0),n.play(),n.pause(),n.load()}function o(){u=new WebSocket(se+"://"+oe+"/"+f),u.onerror=function(k){console.log(k)},u.onmessage=function(k){if(k.data==="ROOM_NOT_FOUND")alert("The room "+f+" does not exist"),ne(M+"/");else{let P=k.data.substring(0,1),R=k.data.substring(2).includes(";")?k.data.substring(2).split(";"):[k.data.substring(2)];switch(P){case"t":t(5,_=parseInt(R[1])),_==0?p():y();break}}};function p(){a===void 0&&(t(1,m=!0),N(),a=setInterval(function(){t(1,m=!m)},500))}function y(){a&&(clearInterval(a),a=void 0,t(1,m=!1))}function N(){c&&(n.play(),setTimeout(function(){n.pause(),n.load()},2e3))}}const d=()=>t(2,c=!c);return l.$$.update=()=>{l.$$.dirty&32&&_!==void 0&&t(0,i=_.toString().padStart(2,"0"))},[i,m,c,r,w,_,d]}class ke extends z{constructor(s){super();C(this,s,fe,ue,G,{})}}export{ke as default};
