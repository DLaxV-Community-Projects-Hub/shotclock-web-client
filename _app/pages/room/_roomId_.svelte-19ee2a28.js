import{S as R,i as C,s as G,e as I,c as j,a as $,d as b,b as v,g as S,V as E,o as g,p as N,q as h,F as O,v as W,n as T,G as H,w as x,x as V,y as A,L as D,B as L,k as J,t as K,m as Q,h as X,a1 as U,P as B,j as Y,N as F,a2 as Z,a3 as ee}from"../../chunks/vendor-c63f3d7b.js";import{p as te,w as se,s as oe}from"../../chunks/config-7bff5de6.js";import{b as M}from"../../chunks/paths-b0acc198.js";import{L as ae}from"../../chunks/LoadingInfo-d206336c.js";import{g as ne}from"../../chunks/navigation-ecedacd4.js";function re(r){let s,t;return s=new ae({}),{c(){x(s.$$.fragment)},l(e){V(s.$$.fragment,e)},m(e,l){A(s,e,l),t=!0},p:D,i(e){t||(h(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){L(s,e)}}}function le(r){let s,t,e,l,f,u,_,i,m,a;const c=[ce,ie],n=[];function y(o,d){return o[2]?0:1}return t=y(r),e=n[t]=c[t](r),{c(){s=I("div"),e.c(),l=J(),f=I("div"),u=I("span"),_=K(r[0]),this.h()},l(o){s=j(o,"DIV",{class:!0});var d=$(s);e.l(d),d.forEach(b),l=Q(o),f=j(o,"DIV",{class:!0});var p=$(f);u=j(p,"SPAN",{class:!0});var w=$(u);_=X(w,r[0]),w.forEach(b),p.forEach(b),this.h()},h(){v(s,"class","absolute top-3 left-3"),v(u,"class","clock svelte-1eujyxo"),U(u,"text-red-600",r[1]),v(f,"class","h-full w-full flex flex-col justify-center items-center")},m(o,d){S(o,s,d),n[t].m(s,null),S(o,l,d),S(o,f,d),B(f,u),B(u,_),i=!0,m||(a=E(s,"click",r[6]),m=!0)},p(o,d){let p=t;t=y(o),t===p?n[t].p(o,d):(T(),g(n[p],1,1,()=>{n[p]=null}),N(),e=n[t],e?e.p(o,d):(e=n[t]=c[t](o),e.c()),h(e,1),e.m(s,null)),(!i||d&1)&&Y(_,o[0]),d&2&&U(u,"text-red-600",o[1])},i(o){i||(h(e),i=!0)},o(o){g(e),i=!1},d(o){o&&b(s),n[t].d(),o&&b(l),o&&b(f),m=!1,a()}}}function ie(r){let s,t;return s=new F({props:{icon:Z,size:"2x"}}),{c(){x(s.$$.fragment)},l(e){V(s.$$.fragment,e)},m(e,l){A(s,e,l),t=!0},p:D,i(e){t||(h(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){L(s,e)}}}function ce(r){let s,t;return s=new F({props:{icon:ee,size:"2x"}}),{c(){x(s.$$.fragment)},l(e){V(s.$$.fragment,e)},m(e,l){A(s,e,l),t=!0},p:D,i(e){t||(h(s.$$.fragment,e),t=!0)},o(e){g(s.$$.fragment,e),t=!1},d(e){L(s,e)}}}function ue(r){let s,t,e,l,f,u;const _=[le,re],i=[];function m(a,c){return a[3]?1:0}return t=m(r),e=i[t]=_[t](r),{c(){s=I("div"),e.c(),this.h()},l(a){s=j(a,"DIV",{id:!0,class:!0});var c=$(s);e.l(c),c.forEach(b),this.h()},h(){v(s,"id","main"),v(s,"class","w-full h-full overflow-hidden svelte-1eujyxo")},m(a,c){S(a,s,c),i[t].m(s,null),l=!0,f||(u=E(s,"click",r[4],{once:!0}),f=!0)},p(a,[c]){let n=t;t=m(a),t===n?i[t].p(a,c):(T(),g(i[n],1,1,()=>{i[n]=null}),N(),e=i[t],e?e.p(a,c):(e=i[t]=_[t](a),e.c()),h(e,1),e.m(s,null))},i(a){l||(h(e),l=!0)},o(a){g(e),l=!1},d(a){a&&b(s),i[t].d(),f=!1,u()}}}function fe(r,s,t){let e,l;O(r,te,p=>t(10,e=p)),O(r,H,p=>t(3,l=p));let f=e.params.roomId,u,_,i="",m=!1,a,c=!1,n;W(()=>{o(),n=new Audio(M+"/audio/beep.mp3")});function y(){t(2,c=!0),n.play(),n.pause(),n.load()}function o(){u=new WebSocket(se+"://"+oe+"/"+f),u.onerror=function(k){console.log(k)},u.onmessage=function(k){if(k.data==="ROOM_NOT_FOUND")alert("The room "+f+" does not exist"),ne(M+"/");else{let q=k.data.substring(0,1),z=k.data.substring(2).includes(";")?k.data.substring(2).split(";"):[k.data.substring(2)];switch(q){case"t":t(5,_=parseInt(z[1])),_==0?p():w();break}}};function p(){a===void 0&&(t(1,m=!0),P(),a=setInterval(function(){t(1,m=!m)},500))}function w(){a&&(clearInterval(a),a=void 0,t(1,m=!1))}function P(){c&&(n.play(),setTimeout(function(){n.pause(),n.load()},2e3))}}const d=()=>t(2,c=!c);return r.$$.update=()=>{r.$$.dirty&32&&_!==void 0&&t(0,i=_.toString().padStart(2,"0"))},[i,m,c,l,y,_,d]}class ke extends R{constructor(s){super();C(this,s,fe,ue,G,{})}}export{ke as default};
