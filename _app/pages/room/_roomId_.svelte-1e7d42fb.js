import{S as $,i as x,s as ee,e as A,c as N,a as P,d,b as S,g as D,R as G,o as V,p as J,q as y,I as H,v as te,n as K,w as j,x as B,y as F,E as L,B as q,t as O,h as T,Q as E,j as U,k as M,m as R,U as m}from"../../chunks/index-0ad21126.js";import{w as le,s as se,p as re}from"../../chunks/config-ff7e6c89.js";import{b as Q}from"../../chunks/singletons-1b661bce.js";import{L as oe,F as X,e as ae,g as ne}from"../../chunks/LoadingInfo-418234a4.js";import{g as ce}from"../../chunks/navigation-d1154fc1.js";import{k as ie}from"../../chunks/runtime.esm-fccffeed.js";import"../../chunks/index-b1256bb1.js";function fe(s){let t,l;return t=new oe({}),{c(){j(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,r){F(t,e,r),l=!0},p:L,i(e){l||(y(t.$$.fragment,e),l=!0)},o(e){V(t.$$.fragment,e),l=!1},d(e){q(t,e)}}}function ue(s){let t,l,e,r,a,p,c,o,g;const i=[pe,me],u=[];function b(n,_){return n[6]?0:1}l=b(s),e=u[l]=i[l](s);let f=s[3]&&W(s);function w(n,_){return n[0]<=60?de:_e}let v=w(s),h=v(s);return{c(){t=A("div"),e.c(),r=M(),a=A("div"),f&&f.c(),p=M(),h.c(),this.h()},l(n){t=N(n,"DIV",{class:!0});var _=P(t);e.l(_),_.forEach(d),r=R(n),a=N(n,"DIV",{class:!0});var k=P(a);f&&f.l(k),p=R(k),h.l(k),k.forEach(d),this.h()},h(){S(t,"class","absolute top-3 left-3"),S(a,"class","h-full w-full flex flex-col justify-start items-center")},m(n,_){D(n,t,_),u[l].m(t,null),D(n,r,_),D(n,a,_),f&&f.m(a,null),E(a,p),h.m(a,null),c=!0,o||(g=G(t,"click",s[9]),o=!0)},p(n,_){let k=l;l=b(n),l===k?u[l].p(n,_):(K(),V(u[k],1,1,()=>{u[k]=null}),J(),e=u[l],e?e.p(n,_):(e=u[l]=i[l](n),e.c()),y(e,1),e.m(t,null)),n[3]?f?f.p(n,_):(f=W(n),f.c(),f.m(a,p)):f&&(f.d(1),f=null),v===(v=w(n))&&h?h.p(n,_):(h.d(1),h=v(n),h&&(h.c(),h.m(a,null)))},i(n){c||(y(e),c=!0)},o(n){V(e),c=!1},d(n){n&&d(t),u[l].d(),n&&d(r),n&&d(a),f&&f.d(),h.d(),o=!1,g()}}}function me(s){let t,l;return t=new X({props:{icon:ae,size:"2x"}}),{c(){j(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,r){F(t,e,r),l=!0},p:L,i(e){l||(y(t.$$.fragment,e),l=!0)},o(e){V(t.$$.fragment,e),l=!1},d(e){q(t,e)}}}function pe(s){let t,l;return t=new X({props:{icon:ne,size:"2x"}}),{c(){j(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,r){F(t,e,r),l=!0},p:L,i(e){l||(y(t.$$.fragment,e),l=!0)},o(e){V(t.$$.fragment,e),l=!1},d(e){q(t,e)}}}function W(s){let t,l;return{c(){t=A("span"),l=O(s[3]),this.h()},l(e){t=N(e,"SPAN",{class:!0});var r=P(t);l=T(r,s[3]),r.forEach(d),this.h()},h(){S(t,"class","title portrait:mt-5 svelte-r3ecmr")},m(e,r){D(e,t,r),E(t,l)},p(e,r){r&8&&U(l,e[3])},d(e){e&&d(t)}}}function _e(s){let t,l,e,r,a,p;return{c(){t=A("div"),l=A("span"),e=O(s[1]),r=M(),a=A("span"),p=O(s[2]),this.h()},l(c){t=N(c,"DIV",{class:!0});var o=P(t);l=N(o,"SPAN",{class:!0});var g=P(l);e=T(g,s[1]),g.forEach(d),r=R(o),a=N(o,"SPAN",{class:!0});var i=P(a);p=T(i,s[2]),i.forEach(d),o.forEach(d),this.h()},h(){S(l,"class","clock svelte-r3ecmr"),m(l,"text-red-600",s[5]),m(l,"clock-small",s[3]),m(l,"clock-large",!s[3]),S(a,"class","clock svelte-r3ecmr"),m(a,"text-red-600",s[5]),m(a,"clock-small",s[3]),m(a,"clock-large",!s[3]),S(t,"class","flex portrait:flex-col landscape:flex-row")},m(c,o){D(c,t,o),E(t,l),E(l,e),E(t,r),E(t,a),E(a,p)},p(c,o){o&2&&U(e,c[1]),o&32&&m(l,"text-red-600",c[5]),o&8&&m(l,"clock-small",c[3]),o&8&&m(l,"clock-large",!c[3]),o&4&&U(p,c[2]),o&32&&m(a,"text-red-600",c[5]),o&8&&m(a,"clock-small",c[3]),o&8&&m(a,"clock-large",!c[3])},d(c){c&&d(t)}}}function de(s){let t,l;return{c(){t=A("span"),l=O(s[4]),this.h()},l(e){t=N(e,"SPAN",{class:!0});var r=P(t);l=T(r,s[4]),r.forEach(d),this.h()},h(){S(t,"class","clock svelte-r3ecmr"),m(t,"text-red-600",s[5]),m(t,"clock-small",s[3]),m(t,"clock-large",!s[3])},m(e,r){D(e,t,r),E(t,l)},p(e,r){r&16&&U(l,e[4]),r&32&&m(t,"text-red-600",e[5]),r&8&&m(t,"clock-small",e[3]),r&8&&m(t,"clock-large",!e[3])},d(e){e&&d(t)}}}function ke(s){let t,l,e,r,a,p;const c=[ue,fe],o=[];function g(i,u){return i[7]?1:0}return l=g(s),e=o[l]=c[l](s),{c(){t=A("div"),e.c(),this.h()},l(i){t=N(i,"DIV",{id:!0,class:!0});var u=P(t);e.l(u),u.forEach(d),this.h()},h(){S(t,"id","main"),S(t,"class","w-full h-full svelte-r3ecmr")},m(i,u){D(i,t,u),o[l].m(t,null),r=!0,a||(p=G(t,"click",s[8],{once:!0}),a=!0)},p(i,[u]){let b=l;l=g(i),l===b?o[l].p(i,u):(K(),V(o[b],1,1,()=>{o[b]=null}),J(),e=o[l],e?e.p(i,u):(e=o[l]=c[l](i),e.c()),y(e,1),e.m(t,null))},i(i){r||(y(e),r=!0)},o(i){V(e),r=!1},d(i){i&&d(t),o[l].d(),a=!1,p()}}}function he(s,t,l){let e,r;H(s,re,k=>l(13,e=k)),H(s,ie,k=>l(7,r=k));let a=e.params.roomId,p,c,o,g="",i="",u="",b=!1,f,w=!1,v;te(()=>{n(),v=new Audio(Q+"/audio/beep.mp3")});function h(){l(6,w=!0),v.play(),v.pause(),v.load()}function n(){p=new WebSocket(le+"://"+se+"/"+a),p.onerror=function(I){console.log(I)},p.onmessage=function(I){if(I.data==="ROOM_NOT_FOUND")alert("The room "+a+" does not exist"),ce(Q+"/");else if(I.data==="HORN")z();else{let Z=I.data.substring(0,1),C=I.data.substring(2).includes(";")?I.data.substring(2).split(";"):[I.data.substring(2)];switch(Z){case"t":l(0,o=parseInt(C[1])),o==0?k():Y();break;case"T":l(3,c=C[0]),c==""&&l(3,c=void 0);break}}};function k(){f===void 0&&(l(5,b=!0),z(),f=setInterval(function(){l(5,b=!b)},500))}function Y(){f&&(clearInterval(f),f=void 0,l(5,b=!1))}function z(){w&&(v.play(),setTimeout(function(){v.pause(),v.load()},2e3))}}const _=()=>l(6,w=!w);return s.$$.update=()=>{s.$$.dirty&7&&o!==void 0&&(o<=60?l(4,g=o.toString().padStart(2,"0")):(l(1,i=Math.floor(o/60).toString().padStart(2,"0")+":"),l(2,u=(o%60).toString().padStart(2,"0")),l(4,g=i+u)))},[o,i,u,c,g,b,w,r,h,_]}class Ae extends ${constructor(t){super(),x(this,t,he,ke,ee,{})}}export{Ae as default};
