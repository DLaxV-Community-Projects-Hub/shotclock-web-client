import{S as yl,i as Ol,s as jl,e as c,c as u,a as d,d as r,b as i,g as D,R as L,o as T,p as Zt,q as N,G as Rl,I as Cl,v as Ll,T as Hl,n as xt,w as J,x as X,y as Y,E as lt,B as Z,t as g,h as k,Q as s,j as Re,k as w,m as E,U as h}from"../../chunks/index-bcecc6c1.js";import{w as zl,s as Ml,p as Fl}from"../../chunks/config-3ef163f3.js";import{b as W}from"../../chunks/singletons-1b661bce.js";import{L as Wl,F as le,f as Pl,a as Vl,b as Ul,c as ql,d as Gl,e as Kl,g as Ql}from"../../chunks/LoadingInfo-1f9f7de7.js";import{g as Yt}from"../../chunks/navigation-d1154fc1.js";const{window:Jl}=Hl;function Xl(o){let t,e;return t=new Wl({}),{c(){J(t.$$.fragment)},l(l){X(t.$$.fragment,l)},m(l,n){Y(t,l,n),e=!0},p:lt,i(l){e||(N(t.$$.fragment,l),e=!0)},o(l){T(t.$$.fragment,l),e=!1},d(l){Z(t,l)}}}function Yl(o){let t,e,l,n,m,v,f,_,$,p,I,q,Se,U,x,se,oe,A,re,ye,H,z,$e,Ke,R,B,ae,Qe,G,Je,Xe,y,ne,fe,O,j,Ye,M,P,S,C,Ze,K,St,$t,ee,Ie,It,Te,Tt,Ne,Nt,Dt,De,Bt,Pt,me,Oe,xe,F,Be,Vt,Pe,Ut,he,pe,ve,je,At,Rt,ie,st,yt,Ot,jt,Ct,Ce,Le,ce,He,Lt,Ht,Ve,zt,be,ge,ze,Mt,Ft,ue,ot,Wt,qt,Gt,Kt,Me,Fe,de,We,Qt,Jt,Ue,Ae,Xt,el;const tl=[xl,Zl],ke=[];function ll(a,b){return a[10]?0:1}e=ll(o),l=ke[e]=tl[e](o);let V=o[6]&&Al(o);function sl(a,b){return a[0]<=60?ts:es}let rt=sl(o),Q=rt(o);function ol(a,b){return a[9]?ss:ls}let at=ol(o),_e=at(o);const rl=[rs,os],we=[];function al(a,b){return a[11]?0:1}return O=al(o),j=we[O]=rl[O](o),Ie=new le({props:{class:"w-full lg:hidden",icon:Pl}}),Te=new le({props:{class:"w-full hidden lg:block",icon:Pl,size:"2x"}}),Be=new le({props:{class:"w-full lg:hidden",icon:Vl}}),Pe=new le({props:{class:"w-full hidden lg:block",icon:Vl,size:"2x"}}),Ve=new le({props:{icon:Ul,size:"lg"}}),Ue=new le({props:{icon:Ul,size:"lg"}}),{c(){t=c("div"),l.c(),n=w(),m=c("div"),v=c("div"),f=c("div"),_=c("span"),$=g("Room"),p=w(),I=c("span"),q=g(o[12]),Se=w(),U=c("div"),x=c("span"),se=g("PIN"),oe=w(),A=c("span"),re=g(o[3]),ye=w(),H=c("div"),z=c("div"),V&&V.c(),$e=w(),Q.c(),Ke=w(),R=c("div"),B=c("button"),ae=c("span"),_e.c(),Qe=w(),G=c("button"),Je=g("RESET"),Xe=w(),y=c("div"),ne=c("button"),fe=c("div"),j.c(),Ye=w(),M=c("div"),P=c("div"),S=c("button"),C=g("-5s"),Ze=w(),K=c("button"),St=g("-1s"),$t=w(),ee=c("button"),J(Ie.$$.fragment),It=w(),J(Te.$$.fragment),Tt=w(),Ne=c("button"),Nt=g("+1s"),Dt=w(),De=c("button"),Bt=g("+5s"),Pt=w(),me=c("div"),Oe=c("div"),xe=c("div"),F=c("button"),J(Be.$$.fragment),Vt=w(),J(Pe.$$.fragment),Ut=w(),he=c("div"),pe=c("div"),ve=c("div"),je=c("span"),At=g("Shot clock URL"),Rt=w(),ie=c("a"),st=g(o[4]),yt=g(W),Ot=g("/room/"),jt=g(o[12]),Ct=w(),Ce=c("div"),Le=c("button"),ce=c("div"),He=c("span"),Lt=g("Share shot clock URL"),Ht=w(),J(Ve.$$.fragment),zt=w(),be=c("div"),ge=c("div"),ze=c("span"),Mt=g("Controller URL"),Ft=w(),ue=c("a"),ot=g(o[4]),Wt=g(W),qt=g("/control/"),Gt=g(o[12]),Kt=w(),Me=c("div"),Fe=c("button"),de=c("div"),We=c("span"),Qt=g("Share Controller URL"),Jt=w(),J(Ue.$$.fragment),this.h()},l(a){t=u(a,"DIV",{class:!0});var b=d(t);l.l(b),b.forEach(r),n=E(a),m=u(a,"DIV",{class:!0});var qe=d(m);v=u(qe,"DIV",{class:!0});var Ee=d(v);f=u(Ee,"DIV",{class:!0});var nt=d(f);_=u(nt,"SPAN",{class:!0});var nl=d(_);$=k(nl,"Room"),nl.forEach(r),p=E(nt),I=u(nt,"SPAN",{class:!0});var fl=d(I);q=k(fl,o[12]),fl.forEach(r),nt.forEach(r),Se=E(Ee),U=u(Ee,"DIV",{class:!0});var ft=d(U);x=u(ft,"SPAN",{class:!0});var il=d(x);se=k(il,"PIN"),il.forEach(r),oe=E(ft),A=u(ft,"SPAN",{class:!0});var cl=d(A);re=k(cl,o[3]),cl.forEach(r),ft.forEach(r),Ee.forEach(r),qe.forEach(r),ye=E(a),H=u(a,"DIV",{class:!0});var Ge=d(H);z=u(Ge,"DIV",{class:!0});var it=d(z);V&&V.l(it),$e=E(it),Q.l(it),it.forEach(r),Ke=E(Ge),R=u(Ge,"DIV",{class:!0});var ct=d(R);B=u(ct,"BUTTON",{class:!0});var ul=d(B);ae=u(ul,"SPAN",{title:!0});var dl=d(ae);_e.l(dl),dl.forEach(r),ul.forEach(r),Qe=E(ct),G=u(ct,"BUTTON",{class:!0,title:!0});var _l=d(G);Je=k(_l,"RESET"),_l.forEach(r),ct.forEach(r),Xe=E(Ge),y=u(Ge,"DIV",{class:!0});var ut=d(y);ne=u(ut,"BUTTON",{class:!0});var ml=d(ne);fe=u(ml,"DIV",{class:!0});var hl=d(fe);j.l(hl),hl.forEach(r),ml.forEach(r),Ye=E(ut),M=u(ut,"DIV",{class:!0});var dt=d(M);P=u(dt,"DIV",{class:!0});var te=d(P);S=u(te,"BUTTON",{class:!0});var pl=d(S);C=k(pl,"-5s"),pl.forEach(r),Ze=E(te),K=u(te,"BUTTON",{class:!0});var vl=d(K);St=k(vl,"-1s"),vl.forEach(r),$t=E(te),ee=u(te,"BUTTON",{class:!0,title:!0});var _t=d(ee);X(Ie.$$.fragment,_t),It=E(_t),X(Te.$$.fragment,_t),_t.forEach(r),Tt=E(te),Ne=u(te,"BUTTON",{class:!0});var bl=d(Ne);Nt=k(bl,"+1s"),bl.forEach(r),Dt=E(te),De=u(te,"BUTTON",{class:!0});var gl=d(De);Bt=k(gl,"+5s"),gl.forEach(r),te.forEach(r),Pt=E(dt),me=u(dt,"DIV",{class:!0});var mt=d(me);Oe=u(mt,"DIV",{class:!0});var kl=d(Oe);xe=u(kl,"DIV",{});var wl=d(xe);F=u(wl,"BUTTON",{class:!0,title:!0});var ht=d(F);X(Be.$$.fragment,ht),Vt=E(ht),X(Pe.$$.fragment,ht),ht.forEach(r),wl.forEach(r),kl.forEach(r),Ut=E(mt),he=u(mt,"DIV",{class:!0});var pt=d(he);pe=u(pt,"DIV",{class:!0});var vt=d(pe);ve=u(vt,"DIV",{class:!0});var bt=d(ve);je=u(bt,"SPAN",{class:!0});var El=d(je);At=k(El,"Shot clock URL"),El.forEach(r),Rt=E(bt),ie=u(bt,"A",{href:!0});var et=d(ie);st=k(et,o[4]),yt=k(et,W),Ot=k(et,"/room/"),jt=k(et,o[12]),et.forEach(r),bt.forEach(r),Ct=E(vt),Ce=u(vt,"DIV",{});var Sl=d(Ce);Le=u(Sl,"BUTTON",{class:!0});var $l=d(Le);ce=u($l,"DIV",{class:!0});var gt=d(ce);He=u(gt,"SPAN",{class:!0});var Il=d(He);Lt=k(Il,"Share shot clock URL"),Il.forEach(r),Ht=E(gt),X(Ve.$$.fragment,gt),gt.forEach(r),$l.forEach(r),Sl.forEach(r),vt.forEach(r),zt=E(pt),be=u(pt,"DIV",{class:!0});var kt=d(be);ge=u(kt,"DIV",{class:!0});var wt=d(ge);ze=u(wt,"SPAN",{class:!0});var Tl=d(ze);Mt=k(Tl,"Controller URL"),Tl.forEach(r),Ft=E(wt),ue=u(wt,"A",{href:!0});var tt=d(ue);ot=k(tt,o[4]),Wt=k(tt,W),qt=k(tt,"/control/"),Gt=k(tt,o[12]),tt.forEach(r),wt.forEach(r),Kt=E(kt),Me=u(kt,"DIV",{});var Nl=d(Me);Fe=u(Nl,"BUTTON",{class:!0});var Dl=d(Fe);de=u(Dl,"DIV",{class:!0});var Et=d(de);We=u(Et,"SPAN",{class:!0});var Bl=d(We);Qt=k(Bl,"Share Controller URL"),Bl.forEach(r),Jt=E(Et),X(Ue.$$.fragment,Et),Et.forEach(r),Dl.forEach(r),Nl.forEach(r),kt.forEach(r),pt.forEach(r),mt.forEach(r),dt.forEach(r),ut.forEach(r),Ge.forEach(r),this.h()},h(){i(t,"class","absolute top-3 left-3"),i(_,"class","text-xs"),i(I,"class","text-xl"),i(f,"class","mr-5"),i(x,"class","text-xs"),i(A,"class","text-xl"),i(U,"class",""),i(v,"class","flex flex-row"),i(m,"class","absolute top-3 right-3"),i(z,"class","flex flex-col justify-center items-center m-5 lg:mr-20 lg:m-0"),i(ae,"title","Hotkeys: Spacebar, Enter"),i(B,"class","controlButton svelte-2i7fof"),h(B,"startButton",!o[9]&&o[0]>0),h(B,"stopButton",o[9]&&o[0]>0),h(B,"buttonDisabled",o[0]==0),i(G,"class","controlButton shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),i(G,"title","Hotkeys: M, C, Backspace"),i(R,"class","flex flex-row lg:flex-col justify-evenly m-5 lg:m-0"),i(fe,"class","flex flex-row justify-center"),i(ne,"class","lg:hidden"),i(S,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),i(K,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),i(ee,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),i(ee,"title","Rewind to last reset"),i(Ne,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),i(De,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),i(P,"class","flex flex-row lg:flex-col justify-evenly mt-5 lg:mt-0 lg:ml-20"),i(F,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),i(F,"title","Manual horn"),h(F,"buttonDisabled",o[0]<=2),i(Oe,"class","lg:text-right flex flex-row lg:flex-col justify-evenly lg:justify-start m-3 mt-1"),i(je,"class","text-xs"),i(ie,"href",W+"/room/"+o[12]),i(ve,"class","hidden lg:flex flex-col mb-3"),i(He,"class","mr-2"),i(ce,"class","flex flex-row items-center"),i(Le,"class","shareButton lg:text-lg svelte-2i7fof"),h(Ce,"hidden",!navigator.share),i(pe,"class","w-1/2 lg:w-full"),i(ze,"class","text-xs"),i(ue,"href",W+"/control/"+o[12]),i(ge,"class","hidden lg:flex flex-col mb-3"),i(We,"class","mr-2"),i(de,"class","flex flex-row items-center"),i(Fe,"class","shareButton lg:text-lg svelte-2i7fof"),h(Me,"hidden",!navigator.share),i(be,"class","w-1/2 lg:w-full"),i(he,"class","lg:text-right flex flex-row lg:flex-col justify-between lg:justify-start m-3 lg:mt-20"),i(me,"class","flex flex-col lg:flex-col-reverse lg:justify-end"),i(M,"class","h-full flex flex-col lg:flex-row justify-between lg:pb-0"),h(M,"hidden",!o[11]),i(y,"class","w--7/8 lg:w-full mx-2 lg:mx-0 p-1 lg:p-0 border lg:border-0 rounded mt-3 lg:mt-0"),h(y,"pb-8",o[11]),h(y,"mb-5",o[11]),i(H,"class","lg:h-full w-full flex flex-col lg:flex-row justify-start lg:justify-between")},m(a,b){D(a,t,b),ke[e].m(t,null),D(a,n,b),D(a,m,b),s(m,v),s(v,f),s(f,_),s(_,$),s(f,p),s(f,I),s(I,q),s(v,Se),s(v,U),s(U,x),s(x,se),s(U,oe),s(U,A),s(A,re),D(a,ye,b),D(a,H,b),s(H,z),V&&V.m(z,null),s(z,$e),Q.m(z,null),s(H,Ke),s(H,R),s(R,B),s(B,ae),_e.m(ae,null),s(R,Qe),s(R,G),s(G,Je),s(H,Xe),s(H,y),s(y,ne),s(ne,fe),we[O].m(fe,null),s(y,Ye),s(y,M),s(M,P),s(P,S),s(S,C),s(P,Ze),s(P,K),s(K,St),s(P,$t),s(P,ee),Y(Ie,ee,null),s(ee,It),Y(Te,ee,null),s(P,Tt),s(P,Ne),s(Ne,Nt),s(P,Dt),s(P,De),s(De,Bt),s(M,Pt),s(M,me),s(me,Oe),s(Oe,xe),s(xe,F),Y(Be,F,null),s(F,Vt),Y(Pe,F,null),s(me,Ut),s(me,he),s(he,pe),s(pe,ve),s(ve,je),s(je,At),s(ve,Rt),s(ve,ie),s(ie,st),s(ie,yt),s(ie,Ot),s(ie,jt),s(pe,Ct),s(pe,Ce),s(Ce,Le),s(Le,ce),s(ce,He),s(He,Lt),s(ce,Ht),Y(Ve,ce,null),s(he,zt),s(he,be),s(be,ge),s(ge,ze),s(ze,Mt),s(ge,Ft),s(ge,ue),s(ue,ot),s(ue,Wt),s(ue,qt),s(ue,Gt),s(be,Kt),s(be,Me),s(Me,Fe),s(Fe,de),s(de,We),s(We,Qt),s(de,Jt),Y(Ue,de,null),Ae=!0,Xt||(el=[L(t,"click",o[22]),L(B,"click",o[14]),L(G,"click",o[15]),L(ne,"click",o[23]),L(S,"click",o[24]),L(K,"click",o[25]),L(ee,"click",o[16]),L(Ne,"click",o[26]),L(De,"click",o[27]),L(F,"click",o[28]),L(ce,"click",o[19]),L(de,"click",o[20])],Xt=!0)},p(a,b){let qe=e;e=ll(a),e===qe?ke[e].p(a,b):(xt(),T(ke[qe],1,1,()=>{ke[qe]=null}),Zt(),l=ke[e],l?l.p(a,b):(l=ke[e]=tl[e](a),l.c()),N(l,1),l.m(t,null)),(!Ae||b[0]&8)&&Re(re,a[3]),a[6]?V?V.p(a,b):(V=Al(a),V.c(),V.m(z,$e)):V&&(V.d(1),V=null),rt===(rt=sl(a))&&Q?Q.p(a,b):(Q.d(1),Q=rt(a),Q&&(Q.c(),Q.m(z,null))),at!==(at=ol(a))&&(_e.d(1),_e=at(a),_e&&(_e.c(),_e.m(ae,null))),b[0]&513&&h(B,"startButton",!a[9]&&a[0]>0),b[0]&513&&h(B,"stopButton",a[9]&&a[0]>0),b[0]&1&&h(B,"buttonDisabled",a[0]==0);let Ee=O;O=al(a),O===Ee?we[O].p(a,b):(xt(),T(we[Ee],1,1,()=>{we[Ee]=null}),Zt(),j=we[O],j?j.p(a,b):(j=we[O]=rl[O](a),j.c()),N(j,1),j.m(fe,null)),b[0]&1&&h(F,"buttonDisabled",a[0]<=2),(!Ae||b[0]&16)&&Re(st,a[4]),(!Ae||b[0]&16)&&Re(ot,a[4]),b[0]&2048&&h(M,"hidden",!a[11]),b[0]&2048&&h(y,"pb-8",a[11]),b[0]&2048&&h(y,"mb-5",a[11])},i(a){Ae||(N(l),N(j),N(Ie.$$.fragment,a),N(Te.$$.fragment,a),N(Be.$$.fragment,a),N(Pe.$$.fragment,a),N(Ve.$$.fragment,a),N(Ue.$$.fragment,a),Ae=!0)},o(a){T(l),T(j),T(Ie.$$.fragment,a),T(Te.$$.fragment,a),T(Be.$$.fragment,a),T(Pe.$$.fragment,a),T(Ve.$$.fragment,a),T(Ue.$$.fragment,a),Ae=!1},d(a){a&&r(t),ke[e].d(),a&&r(n),a&&r(m),a&&r(ye),a&&r(H),V&&V.d(),Q.d(),_e.d(),we[O].d(),Z(Ie),Z(Te),Z(Be),Z(Pe),Z(Ve),Z(Ue),Xt=!1,Rl(el)}}}function Zl(o){let t,e;return t=new le({props:{icon:ql,size:"2x"}}),{c(){J(t.$$.fragment)},l(l){X(t.$$.fragment,l)},m(l,n){Y(t,l,n),e=!0},p:lt,i(l){e||(N(t.$$.fragment,l),e=!0)},o(l){T(t.$$.fragment,l),e=!1},d(l){Z(t,l)}}}function xl(o){let t,e;return t=new le({props:{icon:Gl,size:"2x"}}),{c(){J(t.$$.fragment)},l(l){X(t.$$.fragment,l)},m(l,n){Y(t,l,n),e=!0},p:lt,i(l){e||(N(t.$$.fragment,l),e=!0)},o(l){T(t.$$.fragment,l),e=!1},d(l){Z(t,l)}}}function Al(o){let t,e;return{c(){t=c("span"),e=g(o[6]),this.h()},l(l){t=u(l,"SPAN",{class:!0});var n=d(t);e=k(n,o[6]),n.forEach(r),this.h()},h(){i(t,"class","title mt-5 svelte-2i7fof")},m(l,n){D(l,t,n),s(t,e)},p(l,n){n[0]&64&&Re(e,l[6])},d(l){l&&r(t)}}}function es(o){let t,e,l,n,m,v;return{c(){t=c("div"),e=c("span"),l=g(o[1]),n=w(),m=c("span"),v=g(o[2]),this.h()},l(f){t=u(f,"DIV",{class:!0});var _=d(t);e=u(_,"SPAN",{class:!0});var $=d(e);l=k($,o[1]),$.forEach(r),n=E(_),m=u(_,"SPAN",{class:!0});var p=d(m);v=k(p,o[2]),p.forEach(r),_.forEach(r),this.h()},h(){i(e,"class","clock svelte-2i7fof"),h(e,"text-red-600",o[8]),h(e,"clock-small",o[6]),h(e,"clock-large",!o[6]),i(m,"class","clock svelte-2i7fof"),h(m,"text-red-600",o[8]),h(m,"clock-small",o[6]),h(m,"clock-large",!o[6]),i(t,"class","flex portrait:flex-col landscape:flex-row")},m(f,_){D(f,t,_),s(t,e),s(e,l),s(t,n),s(t,m),s(m,v)},p(f,_){_[0]&2&&Re(l,f[1]),_[0]&256&&h(e,"text-red-600",f[8]),_[0]&64&&h(e,"clock-small",f[6]),_[0]&64&&h(e,"clock-large",!f[6]),_[0]&4&&Re(v,f[2]),_[0]&256&&h(m,"text-red-600",f[8]),_[0]&64&&h(m,"clock-small",f[6]),_[0]&64&&h(m,"clock-large",!f[6])},d(f){f&&r(t)}}}function ts(o){let t,e;return{c(){t=c("span"),e=g(o[7]),this.h()},l(l){t=u(l,"SPAN",{class:!0});var n=d(t);e=k(n,o[7]),n.forEach(r),this.h()},h(){i(t,"class","clock svelte-2i7fof"),h(t,"text-red-600",o[8]),h(t,"clock-small",o[6]),h(t,"clock-large",!o[6])},m(l,n){D(l,t,n),s(t,e)},p(l,n){n[0]&128&&Re(e,l[7]),n[0]&256&&h(t,"text-red-600",l[8]),n[0]&64&&h(t,"clock-small",l[6]),n[0]&64&&h(t,"clock-large",!l[6])},d(l){l&&r(t)}}}function ls(o){let t;return{c(){t=g("START")},l(e){t=k(e,"START")},m(e,l){D(e,t,l)},d(e){e&&r(t)}}}function ss(o){let t;return{c(){t=g("STOP")},l(e){t=k(e,"STOP")},m(e,l){D(e,t,l)},d(e){e&&r(t)}}}function os(o){let t,e,l,n,m,v;return e=new le({props:{icon:Kl}}),{c(){t=c("div"),J(e.$$.fragment),l=w(),n=c("span"),m=g("Show advanced controls"),this.h()},l(f){t=u(f,"DIV",{class:!0});var _=d(t);X(e.$$.fragment,_),_.forEach(r),l=E(f),n=u(f,"SPAN",{class:!0});var $=d(n);m=k($,"Show advanced controls"),$.forEach(r),this.h()},h(){i(t,"class","mt-1"),i(n,"class","ml-2")},m(f,_){D(f,t,_),Y(e,t,null),D(f,l,_),D(f,n,_),s(n,m),v=!0},p:lt,i(f){v||(N(e.$$.fragment,f),v=!0)},o(f){T(e.$$.fragment,f),v=!1},d(f){f&&r(t),Z(e),f&&r(l),f&&r(n)}}}function rs(o){let t,e,l,n,m,v;return e=new le({props:{icon:Ql}}),{c(){t=c("div"),J(e.$$.fragment),l=w(),n=c("span"),m=g("Hide advanced controls"),this.h()},l(f){t=u(f,"DIV",{class:!0});var _=d(t);X(e.$$.fragment,_),_.forEach(r),l=E(f),n=u(f,"SPAN",{class:!0});var $=d(n);m=k($,"Hide advanced controls"),$.forEach(r),this.h()},h(){i(t,"class","mt-1"),i(n,"class","ml-2")},m(f,_){D(f,t,_),Y(e,t,null),D(f,l,_),D(f,n,_),s(n,m),v=!0},p:lt,i(f){v||(N(e.$$.fragment,f),v=!0)},o(f){T(e.$$.fragment,f),v=!1},d(f){f&&r(t),Z(e),f&&r(l),f&&r(n)}}}function as(o){let t,e,l,n,m,v;const f=[Yl,Xl],_=[];function $(p,I){return p[5]?0:1}return e=$(o),l=_[e]=f[e](o),{c(){t=c("div"),l.c(),this.h()},l(p){t=u(p,"DIV",{id:!0,class:!0});var I=d(t);l.l(I),I.forEach(r),this.h()},h(){i(t,"id","main"),i(t,"class","w-full h-full svelte-2i7fof")},m(p,I){D(p,t,I),_[e].m(t,null),n=!0,m||(v=[L(Jl,"keydown",o[21]),L(t,"click",o[13],{once:!0})],m=!0)},p(p,I){let q=e;e=$(p),e===q?_[e].p(p,I):(xt(),T(_[q],1,1,()=>{_[q]=null}),Zt(),l=_[e],l?l.p(p,I):(l=_[e]=f[e](p),l.c()),N(l,1),l.m(t,null))},i(p){n||(N(l),n=!0)},o(p){T(l),n=!1},d(p){p&&r(t),_[e].d(),m=!1,Rl(v)}}}function ns(o,t,e){let l;Cl(o,Fl,S=>e(32,l=S));let n=l.params.roomId,m,v,f=!1,_,$,p,I="",q="",Se="",U=!1,x,se,oe=!1,A,re=!0;Ll(()=>{e(4,v=window.location.host),l.url.searchParams.has("pin")?e(3,m=l.url.searchParams.get("pin")):(e(3,m=sessionStorage.getItem("PIN-"+n)),m||e(3,m=prompt("Please enter the control PIN for room "+n))),m?(sessionStorage.setItem("PIN-"+n,m),H(m),A=new Audio(W+"/audio/beep.mp3")):Yt(W+"/"),navigator.share&&e(11,re=!1)});function ye(){e(10,oe=!0),A.play(),A.pause(),A.load()}function H(S){_=new WebSocket(zl+"://"+Ml+"/"+n+"?pin="+S),_.onerror=function(C){console.log(C)},_.onmessage=function(C){if(C.data==="ROOM_NOT_FOUND")alert("The room "+n+" does not exist"),Yt(W+"/");else if(C.data==="WRONG_PIN")alert("Wrong PIN"),sessionStorage.removeItem("PIN-"+n),Yt(W+"/");else if(C.data==="AUTHENTICATED")e(5,f=!0);else if(C.data==="HORN")G();else{let Ze=C.data.substring(0,1),K=C.data.substring(2).includes(";")?C.data.substring(2).split(";"):[C.data.substring(2)];switch(Ze){case"t":e(0,p=parseInt(K[1])),p==0?ae():Qe();break;case"r":e(9,x=K[0]==="1");break;case"T":e(6,$=K[0]),$==""&&e(6,$=void 0);break}}}}function z(){x?_.send("pause"):_.send("start")}function $e(){_.send("reset")}function Ke(){_.send("rewind")}function R(S){_.send("updateTime;"+S)}function B(){_.send("horn")}function ae(){se===void 0&&(e(8,U=!0),G(),se=setInterval(function(){e(8,U=!U)},500))}function Qe(){se&&(clearInterval(se),se=void 0,e(8,U=!1))}function G(){oe&&(A.play(),setTimeout(function(){A.pause(),A.load()},2e3))}function Je(){navigator.share&&navigator.share({title:"Shot Clock room "+n,url:W+"/room/"+n})}function Xe(){navigator.share&&navigator.share({title:"Shot Clock controller "+n,url:W+"/control/"+n})}function y(S){S.key===" "||S.key==="Enter"?(z(),S.preventDefault()):(S.key.toLowerCase()==="m"||S.key.toLowerCase()==="c"||S.key==="Backspace")&&($e(),S.preventDefault())}const ne=()=>e(10,oe=!oe),fe=()=>e(11,re=!re),O=()=>R(-5),j=()=>R(-1),Ye=()=>R(1),M=()=>R(5),P=()=>B();return o.$$.update=()=>{o.$$.dirty[0]&7&&p!==void 0&&(p<=60?e(7,I=p.toString().padStart(2,"0")):e(1,q=Math.floor(p/60).toString().padStart(2,"0")+":"),e(2,Se=(p%60).toString().padStart(2,"0")),e(7,I=q+Se))},[p,q,Se,m,v,f,$,I,U,x,oe,re,n,ye,z,$e,Ke,R,B,Je,Xe,y,ne,fe,O,j,Ye,M,P]}class _s extends yl{constructor(t){super(),Ol(this,t,ns,as,jl,{},null,[-1,-1])}}export{_s as default};
