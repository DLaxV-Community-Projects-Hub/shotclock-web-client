import{S as Al,i as Rl,s as Ol,e as c,c as u,a as d,d as o,b as f,g as D,R as C,o as T,p as Zt,q as N,G as Ul,I as jl,v as Cl,T as Ll,n as xt,w as K,x as Q,y as J,E as Ke,B as X,t as b,h as g,Q as l,k,m as w,U as E,j as Ge}from"../../chunks/index-bcecc6c1.js";import{w as Hl,s as zl,p as Ml}from"../../chunks/config-3ef163f3.js";import{b as F}from"../../chunks/singletons-1b661bce.js";import{L as Fl,F as te,f as Pl,a as Vl,b as yl,c as Wl,d as ql,e as Gl,g as Kl}from"../../chunks/LoadingInfo-1f9f7de7.js";import{g as Yt}from"../../chunks/navigation-d1154fc1.js";const{window:Ql}=Ll;function Jl(r){let t,e;return t=new Fl({}),{c(){K(t.$$.fragment)},l(s){Q(t.$$.fragment,s)},m(s,n){J(t,s,n),e=!0},p:Ke,i(s){e||(N(t.$$.fragment,s),e=!0)},o(s){T(t.$$.fragment,s),e=!1},d(s){X(t,s)}}}function Xl(r){let t,e,s,n,h,p,i,_,I,m,$,W,Se,V,Y,le,se,y,re,Ue,L,H,Ae,Qe,U,B,oe,Je,q,Xe,Ye,A,ae,ne,R,O,Ze,z,P,S,j,xe,Z,St,$t,x,$e,It,Ie,Tt,Te,Nt,Dt,Ne,Bt,Pt,he,Re,et,M,De,Vt,Be,yt,me,pe,ve,Oe,Ut,At,ie,st,Rt,Ot,jt,Ct,je,Ce,fe,Le,Lt,Ht,Pe,zt,be,ge,He,Mt,Ft,ce,rt,Wt,qt,Gt,Kt,ze,Me,ue,Fe,Qt,Jt,Ve,ye,Xt,el;const tl=[Zl,Yl],ke=[];function ll(a,v){return a[9]?0:1}e=ll(r),s=ke[e]=tl[e](r);let de=r[12]&&xl(r);function sl(a,v){return a[0]<=60?ts:es}let ot=sl(r),G=ot(r);function rl(a,v){return a[8]?ss:ls}let at=rl(r),_e=at(r);const ol=[os,rs],we=[];function al(a,v){return a[10]?0:1}return R=al(r),O=we[R]=ol[R](r),$e=new te({props:{class:"w-full lg:hidden",icon:Pl}}),Ie=new te({props:{class:"w-full hidden lg:block",icon:Pl,size:"2x"}}),De=new te({props:{class:"w-full lg:hidden",icon:Vl}}),Be=new te({props:{class:"w-full hidden lg:block",icon:Vl,size:"2x"}}),Pe=new te({props:{icon:yl,size:"lg"}}),Ve=new te({props:{icon:yl,size:"lg"}}),{c(){t=c("div"),s.c(),n=k(),h=c("div"),p=c("div"),i=c("div"),_=c("span"),I=b("Room"),m=k(),$=c("span"),W=b(r[11]),Se=k(),V=c("div"),Y=c("span"),le=b("PIN"),se=k(),y=c("span"),re=b(r[3]),Ue=k(),L=c("div"),H=c("div"),de&&de.c(),Ae=k(),G.c(),Qe=k(),U=c("div"),B=c("button"),oe=c("span"),_e.c(),Je=k(),q=c("button"),Xe=b("RESET"),Ye=k(),A=c("div"),ae=c("button"),ne=c("div"),O.c(),Ze=k(),z=c("div"),P=c("div"),S=c("button"),j=b("-5s"),xe=k(),Z=c("button"),St=b("-1s"),$t=k(),x=c("button"),K($e.$$.fragment),It=k(),K(Ie.$$.fragment),Tt=k(),Te=c("button"),Nt=b("+1s"),Dt=k(),Ne=c("button"),Bt=b("+5s"),Pt=k(),he=c("div"),Re=c("div"),et=c("div"),M=c("button"),K(De.$$.fragment),Vt=k(),K(Be.$$.fragment),yt=k(),me=c("div"),pe=c("div"),ve=c("div"),Oe=c("span"),Ut=b("Shot clock URL"),At=k(),ie=c("a"),st=b(r[4]),Rt=b(F),Ot=b("/room/"),jt=b(r[11]),Ct=k(),je=c("div"),Ce=c("button"),fe=c("div"),Le=c("span"),Lt=b("Share shot clock URL"),Ht=k(),K(Pe.$$.fragment),zt=k(),be=c("div"),ge=c("div"),He=c("span"),Mt=b("Controller URL"),Ft=k(),ce=c("a"),rt=b(r[4]),Wt=b(F),qt=b("/control/"),Gt=b(r[11]),Kt=k(),ze=c("div"),Me=c("button"),ue=c("div"),Fe=c("span"),Qt=b("Share Controller URL"),Jt=k(),K(Ve.$$.fragment),this.h()},l(a){t=u(a,"DIV",{class:!0});var v=d(t);s.l(v),v.forEach(o),n=w(a),h=u(a,"DIV",{class:!0});var We=d(h);p=u(We,"DIV",{class:!0});var Ee=d(p);i=u(Ee,"DIV",{class:!0});var nt=d(i);_=u(nt,"SPAN",{class:!0});var nl=d(_);I=g(nl,"Room"),nl.forEach(o),m=w(nt),$=u(nt,"SPAN",{class:!0});var il=d($);W=g(il,r[11]),il.forEach(o),nt.forEach(o),Se=w(Ee),V=u(Ee,"DIV",{class:!0});var it=d(V);Y=u(it,"SPAN",{class:!0});var fl=d(Y);le=g(fl,"PIN"),fl.forEach(o),se=w(it),y=u(it,"SPAN",{class:!0});var cl=d(y);re=g(cl,r[3]),cl.forEach(o),it.forEach(o),Ee.forEach(o),We.forEach(o),Ue=w(a),L=u(a,"DIV",{class:!0});var qe=d(L);H=u(qe,"DIV",{class:!0});var ft=d(H);de&&de.l(ft),Ae=w(ft),G.l(ft),ft.forEach(o),Qe=w(qe),U=u(qe,"DIV",{class:!0});var ct=d(U);B=u(ct,"BUTTON",{class:!0});var ul=d(B);oe=u(ul,"SPAN",{title:!0});var dl=d(oe);_e.l(dl),dl.forEach(o),ul.forEach(o),Je=w(ct),q=u(ct,"BUTTON",{class:!0,title:!0});var _l=d(q);Xe=g(_l,"RESET"),_l.forEach(o),ct.forEach(o),Ye=w(qe),A=u(qe,"DIV",{class:!0});var ut=d(A);ae=u(ut,"BUTTON",{class:!0});var hl=d(ae);ne=u(hl,"DIV",{class:!0});var ml=d(ne);O.l(ml),ml.forEach(o),hl.forEach(o),Ze=w(ut),z=u(ut,"DIV",{class:!0});var dt=d(z);P=u(dt,"DIV",{class:!0});var ee=d(P);S=u(ee,"BUTTON",{class:!0});var pl=d(S);j=g(pl,"-5s"),pl.forEach(o),xe=w(ee),Z=u(ee,"BUTTON",{class:!0});var vl=d(Z);St=g(vl,"-1s"),vl.forEach(o),$t=w(ee),x=u(ee,"BUTTON",{class:!0,title:!0});var _t=d(x);Q($e.$$.fragment,_t),It=w(_t),Q(Ie.$$.fragment,_t),_t.forEach(o),Tt=w(ee),Te=u(ee,"BUTTON",{class:!0});var bl=d(Te);Nt=g(bl,"+1s"),bl.forEach(o),Dt=w(ee),Ne=u(ee,"BUTTON",{class:!0});var gl=d(Ne);Bt=g(gl,"+5s"),gl.forEach(o),ee.forEach(o),Pt=w(dt),he=u(dt,"DIV",{class:!0});var ht=d(he);Re=u(ht,"DIV",{class:!0});var kl=d(Re);et=u(kl,"DIV",{});var wl=d(et);M=u(wl,"BUTTON",{class:!0,title:!0});var mt=d(M);Q(De.$$.fragment,mt),Vt=w(mt),Q(Be.$$.fragment,mt),mt.forEach(o),wl.forEach(o),kl.forEach(o),yt=w(ht),me=u(ht,"DIV",{class:!0});var pt=d(me);pe=u(pt,"DIV",{class:!0});var vt=d(pe);ve=u(vt,"DIV",{class:!0});var bt=d(ve);Oe=u(bt,"SPAN",{class:!0});var El=d(Oe);Ut=g(El,"Shot clock URL"),El.forEach(o),At=w(bt),ie=u(bt,"A",{href:!0});var tt=d(ie);st=g(tt,r[4]),Rt=g(tt,F),Ot=g(tt,"/room/"),jt=g(tt,r[11]),tt.forEach(o),bt.forEach(o),Ct=w(vt),je=u(vt,"DIV",{});var Sl=d(je);Ce=u(Sl,"BUTTON",{class:!0});var $l=d(Ce);fe=u($l,"DIV",{class:!0});var gt=d(fe);Le=u(gt,"SPAN",{class:!0});var Il=d(Le);Lt=g(Il,"Share shot clock URL"),Il.forEach(o),Ht=w(gt),Q(Pe.$$.fragment,gt),gt.forEach(o),$l.forEach(o),Sl.forEach(o),vt.forEach(o),zt=w(pt),be=u(pt,"DIV",{class:!0});var kt=d(be);ge=u(kt,"DIV",{class:!0});var wt=d(ge);He=u(wt,"SPAN",{class:!0});var Tl=d(He);Mt=g(Tl,"Controller URL"),Tl.forEach(o),Ft=w(wt),ce=u(wt,"A",{href:!0});var lt=d(ce);rt=g(lt,r[4]),Wt=g(lt,F),qt=g(lt,"/control/"),Gt=g(lt,r[11]),lt.forEach(o),wt.forEach(o),Kt=w(kt),ze=u(kt,"DIV",{});var Nl=d(ze);Me=u(Nl,"BUTTON",{class:!0});var Dl=d(Me);ue=u(Dl,"DIV",{class:!0});var Et=d(ue);Fe=u(Et,"SPAN",{class:!0});var Bl=d(Fe);Qt=g(Bl,"Share Controller URL"),Bl.forEach(o),Jt=w(Et),Q(Ve.$$.fragment,Et),Et.forEach(o),Dl.forEach(o),Nl.forEach(o),kt.forEach(o),pt.forEach(o),ht.forEach(o),dt.forEach(o),ut.forEach(o),qe.forEach(o),this.h()},h(){f(t,"class","absolute top-3 left-3"),f(_,"class","text-xs"),f($,"class","text-xl"),f(i,"class","mr-5"),f(Y,"class","text-xs"),f(y,"class","text-xl"),f(V,"class",""),f(p,"class","flex flex-row"),f(h,"class","absolute top-3 right-3"),f(H,"class","flex flex-col justify-center items-center m-5 lg:mr-20 lg:m-0"),f(oe,"title","Hotkeys: Spacebar, Enter"),f(B,"class","controlButton svelte-2i7fof"),E(B,"startButton",!r[8]&&r[0]>0),E(B,"stopButton",r[8]&&r[0]>0),E(B,"buttonDisabled",r[0]==0),f(q,"class","controlButton shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(q,"title","Hotkeys: M, C, Backspace"),f(U,"class","flex flex-row lg:flex-col justify-evenly m-5 lg:m-0"),f(ne,"class","flex flex-row justify-center"),f(ae,"class","lg:hidden"),f(S,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(Z,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(x,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(x,"title","Rewind to last reset"),f(Te,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(Ne,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(P,"class","flex flex-row lg:flex-col justify-evenly mt-5 lg:mt-0 lg:ml-20"),f(M,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(M,"title","Manual horn"),E(M,"buttonDisabled",r[0]<=2),f(Re,"class","lg:text-right flex flex-row lg:flex-col justify-evenly lg:justify-start m-3 mt-1"),f(Oe,"class","text-xs"),f(ie,"href",F+"/room/"+r[11]),f(ve,"class","hidden lg:flex flex-col mb-3"),f(Le,"class","mr-2"),f(fe,"class","flex flex-row items-center"),f(Ce,"class","shareButton lg:text-lg svelte-2i7fof"),E(je,"hidden",!navigator.share),f(pe,"class","w-1/2 lg:w-full"),f(He,"class","text-xs"),f(ce,"href",F+"/control/"+r[11]),f(ge,"class","hidden lg:flex flex-col mb-3"),f(Fe,"class","mr-2"),f(ue,"class","flex flex-row items-center"),f(Me,"class","shareButton lg:text-lg svelte-2i7fof"),E(ze,"hidden",!navigator.share),f(be,"class","w-1/2 lg:w-full"),f(me,"class","lg:text-right flex flex-row lg:flex-col justify-between lg:justify-start m-3 lg:mt-20"),f(he,"class","flex flex-col lg:flex-col-reverse lg:justify-end"),f(z,"class","h-full flex flex-col lg:flex-row justify-between lg:pb-0"),E(z,"hidden",!r[10]),f(A,"class","w--7/8 lg:w-full mx-2 lg:mx-0 p-1 lg:p-0 border lg:border-0 rounded mt-3 lg:mt-0"),E(A,"pb-8",r[10]),E(A,"mb-5",r[10]),f(L,"class","lg:h-full w-full flex flex-col lg:flex-row justify-start lg:justify-between")},m(a,v){D(a,t,v),ke[e].m(t,null),D(a,n,v),D(a,h,v),l(h,p),l(p,i),l(i,_),l(_,I),l(i,m),l(i,$),l($,W),l(p,Se),l(p,V),l(V,Y),l(Y,le),l(V,se),l(V,y),l(y,re),D(a,Ue,v),D(a,L,v),l(L,H),de&&de.m(H,null),l(H,Ae),G.m(H,null),l(L,Qe),l(L,U),l(U,B),l(B,oe),_e.m(oe,null),l(U,Je),l(U,q),l(q,Xe),l(L,Ye),l(L,A),l(A,ae),l(ae,ne),we[R].m(ne,null),l(A,Ze),l(A,z),l(z,P),l(P,S),l(S,j),l(P,xe),l(P,Z),l(Z,St),l(P,$t),l(P,x),J($e,x,null),l(x,It),J(Ie,x,null),l(P,Tt),l(P,Te),l(Te,Nt),l(P,Dt),l(P,Ne),l(Ne,Bt),l(z,Pt),l(z,he),l(he,Re),l(Re,et),l(et,M),J(De,M,null),l(M,Vt),J(Be,M,null),l(he,yt),l(he,me),l(me,pe),l(pe,ve),l(ve,Oe),l(Oe,Ut),l(ve,At),l(ve,ie),l(ie,st),l(ie,Rt),l(ie,Ot),l(ie,jt),l(pe,Ct),l(pe,je),l(je,Ce),l(Ce,fe),l(fe,Le),l(Le,Lt),l(fe,Ht),J(Pe,fe,null),l(me,zt),l(me,be),l(be,ge),l(ge,He),l(He,Mt),l(ge,Ft),l(ge,ce),l(ce,rt),l(ce,Wt),l(ce,qt),l(ce,Gt),l(be,Kt),l(be,ze),l(ze,Me),l(Me,ue),l(ue,Fe),l(Fe,Qt),l(ue,Jt),J(Ve,ue,null),ye=!0,Xt||(el=[C(t,"click",r[22]),C(B,"click",r[14]),C(q,"click",r[15]),C(ae,"click",r[23]),C(S,"click",r[24]),C(Z,"click",r[25]),C(x,"click",r[16]),C(Te,"click",r[26]),C(Ne,"click",r[27]),C(M,"click",r[28]),C(fe,"click",r[19]),C(ue,"click",r[20])],Xt=!0)},p(a,v){let We=e;e=ll(a),e===We?ke[e].p(a,v):(xt(),T(ke[We],1,1,()=>{ke[We]=null}),Zt(),s=ke[e],s?s.p(a,v):(s=ke[e]=tl[e](a),s.c()),N(s,1),s.m(t,null)),(!ye||v[0]&8)&&Ge(re,a[3]),a[12]&&de.p(a,v),ot===(ot=sl(a))&&G?G.p(a,v):(G.d(1),G=ot(a),G&&(G.c(),G.m(H,null))),at!==(at=rl(a))&&(_e.d(1),_e=at(a),_e&&(_e.c(),_e.m(oe,null))),v[0]&257&&E(B,"startButton",!a[8]&&a[0]>0),v[0]&257&&E(B,"stopButton",a[8]&&a[0]>0),v[0]&1&&E(B,"buttonDisabled",a[0]==0);let Ee=R;R=al(a),R===Ee?we[R].p(a,v):(xt(),T(we[Ee],1,1,()=>{we[Ee]=null}),Zt(),O=we[R],O?O.p(a,v):(O=we[R]=ol[R](a),O.c()),N(O,1),O.m(ne,null)),v[0]&1&&E(M,"buttonDisabled",a[0]<=2),(!ye||v[0]&16)&&Ge(st,a[4]),(!ye||v[0]&16)&&Ge(rt,a[4]),v[0]&1024&&E(z,"hidden",!a[10]),v[0]&1024&&E(A,"pb-8",a[10]),v[0]&1024&&E(A,"mb-5",a[10])},i(a){ye||(N(s),N(O),N($e.$$.fragment,a),N(Ie.$$.fragment,a),N(De.$$.fragment,a),N(Be.$$.fragment,a),N(Pe.$$.fragment,a),N(Ve.$$.fragment,a),ye=!0)},o(a){T(s),T(O),T($e.$$.fragment,a),T(Ie.$$.fragment,a),T(De.$$.fragment,a),T(Be.$$.fragment,a),T(Pe.$$.fragment,a),T(Ve.$$.fragment,a),ye=!1},d(a){a&&o(t),ke[e].d(),a&&o(n),a&&o(h),a&&o(Ue),a&&o(L),de&&de.d(),G.d(),_e.d(),we[R].d(),X($e),X(Ie),X(De),X(Be),X(Pe),X(Ve),Xt=!1,Ul(el)}}}function Yl(r){let t,e;return t=new te({props:{icon:Wl,size:"2x"}}),{c(){K(t.$$.fragment)},l(s){Q(t.$$.fragment,s)},m(s,n){J(t,s,n),e=!0},p:Ke,i(s){e||(N(t.$$.fragment,s),e=!0)},o(s){T(t.$$.fragment,s),e=!1},d(s){X(t,s)}}}function Zl(r){let t,e;return t=new te({props:{icon:ql,size:"2x"}}),{c(){K(t.$$.fragment)},l(s){Q(t.$$.fragment,s)},m(s,n){J(t,s,n),e=!0},p:Ke,i(s){e||(N(t.$$.fragment,s),e=!0)},o(s){T(t.$$.fragment,s),e=!1},d(s){X(t,s)}}}function xl(r){let t,e;return{c(){t=c("span"),e=b(r[12]),this.h()},l(s){t=u(s,"SPAN",{class:!0});var n=d(t);e=g(n,r[12]),n.forEach(o),this.h()},h(){f(t,"class","title mt-5 svelte-2i7fof")},m(s,n){D(s,t,n),l(t,e)},p:Ke,d(s){s&&o(t)}}}function es(r){let t,e,s,n,h,p;return{c(){t=c("div"),e=c("span"),s=b(r[1]),n=k(),h=c("span"),p=b(r[2]),this.h()},l(i){t=u(i,"DIV",{class:!0});var _=d(t);e=u(_,"SPAN",{class:!0});var I=d(e);s=g(I,r[1]),I.forEach(o),n=w(_),h=u(_,"SPAN",{class:!0});var m=d(h);p=g(m,r[2]),m.forEach(o),_.forEach(o),this.h()},h(){f(e,"class","clock svelte-2i7fof"),E(e,"text-red-600",r[7]),E(e,"clock-small",r[12]),E(e,"clock-large",!r[12]),f(h,"class","clock svelte-2i7fof"),E(h,"text-red-600",r[7]),E(h,"clock-small",r[12]),E(h,"clock-large",!r[12]),f(t,"class","flex portrait:flex-col landscape:flex-row")},m(i,_){D(i,t,_),l(t,e),l(e,s),l(t,n),l(t,h),l(h,p)},p(i,_){_[0]&2&&Ge(s,i[1]),_[0]&128&&E(e,"text-red-600",i[7]),_[0]&4&&Ge(p,i[2]),_[0]&128&&E(h,"text-red-600",i[7])},d(i){i&&o(t)}}}function ts(r){let t,e;return{c(){t=c("span"),e=b(r[6]),this.h()},l(s){t=u(s,"SPAN",{class:!0});var n=d(t);e=g(n,r[6]),n.forEach(o),this.h()},h(){f(t,"class","clock svelte-2i7fof"),E(t,"text-red-600",r[7]),E(t,"clock-small",r[12]),E(t,"clock-large",!r[12])},m(s,n){D(s,t,n),l(t,e)},p(s,n){n[0]&64&&Ge(e,s[6]),n[0]&128&&E(t,"text-red-600",s[7])},d(s){s&&o(t)}}}function ls(r){let t;return{c(){t=b("START")},l(e){t=g(e,"START")},m(e,s){D(e,t,s)},d(e){e&&o(t)}}}function ss(r){let t;return{c(){t=b("STOP")},l(e){t=g(e,"STOP")},m(e,s){D(e,t,s)},d(e){e&&o(t)}}}function rs(r){let t,e,s,n,h,p;return e=new te({props:{icon:Gl}}),{c(){t=c("div"),K(e.$$.fragment),s=k(),n=c("span"),h=b("Show advanced controls"),this.h()},l(i){t=u(i,"DIV",{class:!0});var _=d(t);Q(e.$$.fragment,_),_.forEach(o),s=w(i),n=u(i,"SPAN",{class:!0});var I=d(n);h=g(I,"Show advanced controls"),I.forEach(o),this.h()},h(){f(t,"class","mt-1"),f(n,"class","ml-2")},m(i,_){D(i,t,_),J(e,t,null),D(i,s,_),D(i,n,_),l(n,h),p=!0},p:Ke,i(i){p||(N(e.$$.fragment,i),p=!0)},o(i){T(e.$$.fragment,i),p=!1},d(i){i&&o(t),X(e),i&&o(s),i&&o(n)}}}function os(r){let t,e,s,n,h,p;return e=new te({props:{icon:Kl}}),{c(){t=c("div"),K(e.$$.fragment),s=k(),n=c("span"),h=b("Hide advanced controls"),this.h()},l(i){t=u(i,"DIV",{class:!0});var _=d(t);Q(e.$$.fragment,_),_.forEach(o),s=w(i),n=u(i,"SPAN",{class:!0});var I=d(n);h=g(I,"Hide advanced controls"),I.forEach(o),this.h()},h(){f(t,"class","mt-1"),f(n,"class","ml-2")},m(i,_){D(i,t,_),J(e,t,null),D(i,s,_),D(i,n,_),l(n,h),p=!0},p:Ke,i(i){p||(N(e.$$.fragment,i),p=!0)},o(i){T(e.$$.fragment,i),p=!1},d(i){i&&o(t),X(e),i&&o(s),i&&o(n)}}}function as(r){let t,e,s,n,h,p;const i=[Xl,Jl],_=[];function I(m,$){return m[5]?0:1}return e=I(r),s=_[e]=i[e](r),{c(){t=c("div"),s.c(),this.h()},l(m){t=u(m,"DIV",{id:!0,class:!0});var $=d(t);s.l($),$.forEach(o),this.h()},h(){f(t,"id","main"),f(t,"class","w-full h-full svelte-2i7fof")},m(m,$){D(m,t,$),_[e].m(t,null),n=!0,h||(p=[C(Ql,"keydown",r[21]),C(t,"click",r[13],{once:!0})],h=!0)},p(m,$){let W=e;e=I(m),e===W?_[e].p(m,$):(xt(),T(_[W],1,1,()=>{_[W]=null}),Zt(),s=_[e],s?s.p(m,$):(s=_[e]=i[e](m),s.c()),N(s,1),s.m(t,null))},i(m){n||(N(s),n=!0)},o(m){T(s),n=!1},d(m){m&&o(t),_[e].d(),h=!1,Ul(p)}}}function ns(r,t,e){let s;jl(r,Ml,S=>e(32,s=S));let n=s.params.roomId,h,p,i=!1,_,I,m,$="",W="",Se="",V=!1,Y,le,se=!1,y,re=!0;Cl(()=>{e(4,p=window.location.host),s.url.searchParams.has("pin")?e(3,h=s.url.searchParams.get("pin")):(e(3,h=sessionStorage.getItem("PIN-"+n)),h||e(3,h=prompt("Please enter the control PIN for room "+n))),h?(sessionStorage.setItem("PIN-"+n,h),L(h),y=new Audio(F+"/audio/beep.mp3")):Yt(F+"/"),navigator.share&&e(10,re=!1)});function Ue(){e(9,se=!0),y.play(),y.pause(),y.load()}function L(S){_=new WebSocket(Hl+"://"+zl+"/"+n+"?pin="+S),_.onerror=function(j){console.log(j)},_.onmessage=function(j){if(j.data==="ROOM_NOT_FOUND")alert("The room "+n+" does not exist"),Yt(F+"/");else if(j.data==="WRONG_PIN")alert("Wrong PIN"),sessionStorage.removeItem("PIN-"+n),Yt(F+"/");else if(j.data==="AUTHENTICATED")e(5,i=!0);else if(j.data==="HORN")q();else{let xe=j.data.substring(0,1),Z=j.data.substring(2).includes(";")?j.data.substring(2).split(";"):[j.data.substring(2)];switch(xe){case"t":e(0,m=parseInt(Z[1])),m==0?oe():Je();break;case"r":e(8,Y=Z[0]==="1");break}}}}function H(){Y?_.send("pause"):_.send("start")}function Ae(){_.send("reset")}function Qe(){_.send("rewind")}function U(S){_.send("updateTime;"+S)}function B(){_.send("horn")}function oe(){le===void 0&&(e(7,V=!0),q(),le=setInterval(function(){e(7,V=!V)},500))}function Je(){le&&(clearInterval(le),le=void 0,e(7,V=!1))}function q(){se&&(y.play(),setTimeout(function(){y.pause(),y.load()},2e3))}function Xe(){navigator.share&&navigator.share({title:"Shot Clock room "+n,url:F+"/room/"+n})}function Ye(){navigator.share&&navigator.share({title:"Shot Clock controller "+n,url:F+"/control/"+n})}function A(S){S.key===" "||S.key==="Enter"?(H(),S.preventDefault()):(S.key.toLowerCase()==="m"||S.key.toLowerCase()==="c"||S.key==="Backspace")&&(Ae(),S.preventDefault())}const ae=()=>e(9,se=!se),ne=()=>e(10,re=!re),R=()=>U(-5),O=()=>U(-1),Ze=()=>U(1),z=()=>U(5),P=()=>B();return r.$$.update=()=>{r.$$.dirty[0]&7&&m!==void 0&&(m<=60?e(6,$=m.toString().padStart(2,"0")):e(1,W=Math.floor(m/60).toString().padStart(2,"0")+":"),e(2,Se=(m%60).toString().padStart(2,"0")),e(6,$=W+Se))},[m,W,Se,h,p,i,$,V,Y,se,re,n,I,Ue,H,Ae,Qe,U,B,Xe,Ye,A,ae,ne,R,O,Ze,z,P]}class _s extends Al{constructor(t){super(),Rl(this,t,ns,as,Ol,{},null,[-1,-1])}}export{_s as default};
