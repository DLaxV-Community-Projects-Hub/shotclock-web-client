import{S as Es,i as Ss,s as Is,e as f,c as i,a as c,d as a,b as n,g as A,R as D,o as S,p as Cl,q as I,G as ws,I as Ts,v as Ns,T as Ds,n as jl,w as B,x as P,y as V,E as Et,B as U,t as g,h as b,Q as e,j as Je,k as _,m as p,U as v}from"../../chunks/index-0ad21126.js";import{w as Bs,s as Ps,p as Vs}from"../../chunks/config-ff7e6c89.js";import{b as J}from"../../chunks/singletons-1b661bce.js";import{L as Us,F as C,f as vs,a as gs,b as bs,c as Xt,d as ks,e as As,g as ys,h as Rs,i as Os}from"../../chunks/LoadingInfo-418234a4.js";import{g as Ol}from"../../chunks/navigation-d1154fc1.js";const{window:Cs}=Ds;function js(r){let l,t;return l=new Us({}),{c(){B(l.$$.fragment)},l(s){P(l.$$.fragment,s)},m(s,u){V(l,s,u),t=!0},p:Et,i(s){t||(I(l.$$.fragment,s),t=!0)},o(s){S(l.$$.fragment,s),t=!1},d(s){U(l,s)}}}function Ls(r){let l,t,s,u,h,$,d,m,T,k,N,X,ye,L,te,ne,fe,H,ie,Xe,Q,F,Re,mt,z,y,le,Ye,Y,ht,_t,j,ce,ue,q,x,pt,W,R,de,vt,gt,me,bt,kt,E,Z,M,he,Oe,Ce,Yt,Zt,je,el,tl,ke,G,$e,K,Le,ll,He,sl,Ze,rl,al,we,se,ze,ol,qe,nl,et,fl,il,Ee,re,xe,cl,Me,ul,tt,dl,ml,Se,ae,Qe,hl,Fe,_l,lt,pl,vl,Ie,Te,Ne,st,gl,bl,_e,St,kl,$l,wl,El,rt,at,pe,ot,Sl,Il,We,Tl,De,Be,nt,Nl,Dl,ve,It,Bl,Pl,Vl,Ul,ft,it,ge,ct,Al,yl,Ge,Ke,Rl,Ll;const Hl=[zs,Hs],Pe=[];function zl(o,w){return o[10]?0:1}t=zl(r),s=Pe[t]=Hl[t](r);let O=r[6]&&$s(r);function ql(o,w){return o[0]<=60?xs:qs}let Tt=ql(r),ee=Tt(r);function xl(o,w){return o[9]?Qs:Ms}let Nt=xl(r),be=Nt(r);const Ml=[Ws,Fs],Ve=[];function Ql(o,w){return o[11]?0:1}return q=Ql(r),x=Ve[q]=Ml[q](r),Z=new C({props:{class:"w-full lg:hidden",icon:vs}}),he=new C({props:{class:"w-full hidden lg:block",icon:vs,size:"2x"}}),Le=new C({props:{class:"w-full lg:hidden",icon:gs}}),He=new C({props:{class:"w-full hidden lg:block",icon:gs,size:"2x"}}),ze=new C({props:{class:"w-full lg:hidden",icon:bs}}),qe=new C({props:{class:"w-full hidden lg:block",icon:bs,size:"2x"}}),xe=new C({props:{class:"w-full lg:hidden",icon:Xt}}),Me=new C({props:{class:"w-full hidden lg:block",icon:Xt,size:"2x"}}),Qe=new C({props:{class:"w-full lg:hidden",icon:Xt}}),Fe=new C({props:{class:"w-full hidden lg:block",icon:Xt,size:"2x"}}),We=new C({props:{icon:ks,size:"lg"}}),Ge=new C({props:{icon:ks,size:"lg"}}),{c(){l=f("div"),s.c(),u=_(),h=f("div"),$=f("div"),d=f("div"),m=f("span"),T=g("Room"),k=_(),N=f("span"),X=g(r[12]),ye=_(),L=f("div"),te=f("span"),ne=g("PIN"),fe=_(),H=f("span"),ie=g(r[3]),Xe=_(),Q=f("div"),F=f("div"),O&&O.c(),Re=_(),ee.c(),mt=_(),z=f("div"),y=f("button"),le=f("span"),be.c(),Ye=_(),Y=f("button"),ht=g("RESET"),_t=_(),j=f("div"),ce=f("button"),ue=f("div"),x.c(),pt=_(),W=f("div"),R=f("div"),de=f("button"),vt=g("-5s"),gt=_(),me=f("button"),bt=g("-1s"),kt=_(),E=f("button"),B(Z.$$.fragment),M=_(),B(he.$$.fragment),Oe=_(),Ce=f("button"),Yt=g("+1s"),Zt=_(),je=f("button"),el=g("+5s"),tl=_(),ke=f("div"),G=f("div"),$e=f("div"),K=f("button"),B(Le.$$.fragment),ll=_(),B(He.$$.fragment),sl=_(),Ze=f("span"),rl=g("Horn"),al=_(),we=f("div"),se=f("button"),B(ze.$$.fragment),ol=_(),B(qe.$$.fragment),nl=_(),et=f("span"),fl=g("Timeout"),il=_(),Ee=f("div"),re=f("button"),B(xe.$$.fragment),cl=_(),B(Me.$$.fragment),ul=_(),tt=f("span"),dl=g("Quarter"),ml=_(),Se=f("div"),ae=f("button"),B(Qe.$$.fragment),hl=_(),B(Fe.$$.fragment),_l=_(),lt=f("span"),pl=g("Halftime"),vl=_(),Ie=f("div"),Te=f("div"),Ne=f("div"),st=f("span"),gl=g("Shot clock URL"),bl=_(),_e=f("a"),St=g(r[4]),kl=g(J),$l=g("/room/"),wl=g(r[12]),El=_(),rt=f("div"),at=f("button"),pe=f("div"),ot=f("span"),Sl=g("Share shot clock URL"),Il=_(),B(We.$$.fragment),Tl=_(),De=f("div"),Be=f("div"),nt=f("span"),Nl=g("Controller URL"),Dl=_(),ve=f("a"),It=g(r[4]),Bl=g(J),Pl=g("/control/"),Vl=g(r[12]),Ul=_(),ft=f("div"),it=f("button"),ge=f("div"),ct=f("span"),Al=g("Share Controller URL"),yl=_(),B(Ge.$$.fragment),this.h()},l(o){l=i(o,"DIV",{class:!0});var w=c(l);s.l(w),w.forEach(a),u=p(o),h=i(o,"DIV",{class:!0});var ut=c(h);$=i(ut,"DIV",{class:!0});var Ue=c($);d=i(Ue,"DIV",{class:!0});var Dt=c(d);m=i(Dt,"SPAN",{class:!0});var Fl=c(m);T=b(Fl,"Room"),Fl.forEach(a),k=p(Dt),N=i(Dt,"SPAN",{class:!0});var Wl=c(N);X=b(Wl,r[12]),Wl.forEach(a),Dt.forEach(a),ye=p(Ue),L=i(Ue,"DIV",{class:!0});var Bt=c(L);te=i(Bt,"SPAN",{class:!0});var Gl=c(te);ne=b(Gl,"PIN"),Gl.forEach(a),fe=p(Bt),H=i(Bt,"SPAN",{class:!0});var Kl=c(H);ie=b(Kl,r[3]),Kl.forEach(a),Bt.forEach(a),Ue.forEach(a),ut.forEach(a),Xe=p(o),Q=i(o,"DIV",{class:!0});var dt=c(Q);F=i(dt,"DIV",{class:!0});var Pt=c(F);O&&O.l(Pt),Re=p(Pt),ee.l(Pt),Pt.forEach(a),mt=p(dt),z=i(dt,"DIV",{class:!0});var Vt=c(z);y=i(Vt,"BUTTON",{class:!0});var Jl=c(y);le=i(Jl,"SPAN",{title:!0});var Xl=c(le);be.l(Xl),Xl.forEach(a),Jl.forEach(a),Ye=p(Vt),Y=i(Vt,"BUTTON",{class:!0,title:!0});var Yl=c(Y);ht=b(Yl,"RESET"),Yl.forEach(a),Vt.forEach(a),_t=p(dt),j=i(dt,"DIV",{class:!0});var Ut=c(j);ce=i(Ut,"BUTTON",{class:!0});var Zl=c(ce);ue=i(Zl,"DIV",{class:!0});var es=c(ue);x.l(es),es.forEach(a),Zl.forEach(a),pt=p(Ut),W=i(Ut,"DIV",{class:!0});var At=c(W);R=i(At,"DIV",{class:!0});var oe=c(R);de=i(oe,"BUTTON",{class:!0});var ts=c(de);vt=b(ts,"-5s"),ts.forEach(a),gt=p(oe),me=i(oe,"BUTTON",{class:!0});var ls=c(me);bt=b(ls,"-1s"),ls.forEach(a),kt=p(oe),E=i(oe,"BUTTON",{class:!0,title:!0});var yt=c(E);P(Z.$$.fragment,yt),M=p(yt),P(he.$$.fragment,yt),yt.forEach(a),Oe=p(oe),Ce=i(oe,"BUTTON",{class:!0});var ss=c(Ce);Yt=b(ss,"+1s"),ss.forEach(a),Zt=p(oe),je=i(oe,"BUTTON",{class:!0});var rs=c(je);el=b(rs,"+5s"),rs.forEach(a),oe.forEach(a),tl=p(At),ke=i(At,"DIV",{class:!0});var Rt=c(ke);G=i(Rt,"DIV",{class:!0});var Ae=c(G);$e=i(Ae,"DIV",{class:!0});var Ot=c($e);K=i(Ot,"BUTTON",{class:!0,title:!0});var Ct=c(K);P(Le.$$.fragment,Ct),ll=p(Ct),P(He.$$.fragment,Ct),Ct.forEach(a),sl=p(Ot),Ze=i(Ot,"SPAN",{class:!0});var as=c(Ze);rl=b(as,"Horn"),as.forEach(a),Ot.forEach(a),al=p(Ae),we=i(Ae,"DIV",{class:!0});var jt=c(we);se=i(jt,"BUTTON",{class:!0,title:!0});var Lt=c(se);P(ze.$$.fragment,Lt),ol=p(Lt),P(qe.$$.fragment,Lt),Lt.forEach(a),nl=p(jt),et=i(jt,"SPAN",{class:!0});var os=c(et);fl=b(os,"Timeout"),os.forEach(a),jt.forEach(a),il=p(Ae),Ee=i(Ae,"DIV",{class:!0});var Ht=c(Ee);re=i(Ht,"BUTTON",{class:!0,title:!0});var zt=c(re);P(xe.$$.fragment,zt),cl=p(zt),P(Me.$$.fragment,zt),zt.forEach(a),ul=p(Ht),tt=i(Ht,"SPAN",{class:!0});var ns=c(tt);dl=b(ns,"Quarter"),ns.forEach(a),Ht.forEach(a),ml=p(Ae),Se=i(Ae,"DIV",{class:!0});var qt=c(Se);ae=i(qt,"BUTTON",{class:!0,title:!0});var xt=c(ae);P(Qe.$$.fragment,xt),hl=p(xt),P(Fe.$$.fragment,xt),xt.forEach(a),_l=p(qt),lt=i(qt,"SPAN",{class:!0});var fs=c(lt);pl=b(fs,"Halftime"),fs.forEach(a),qt.forEach(a),Ae.forEach(a),vl=p(Rt),Ie=i(Rt,"DIV",{class:!0});var Mt=c(Ie);Te=i(Mt,"DIV",{class:!0});var Qt=c(Te);Ne=i(Qt,"DIV",{class:!0});var Ft=c(Ne);st=i(Ft,"SPAN",{class:!0});var is=c(st);gl=b(is,"Shot clock URL"),is.forEach(a),bl=p(Ft),_e=i(Ft,"A",{href:!0});var $t=c(_e);St=b($t,r[4]),kl=b($t,J),$l=b($t,"/room/"),wl=b($t,r[12]),$t.forEach(a),Ft.forEach(a),El=p(Qt),rt=i(Qt,"DIV",{});var cs=c(rt);at=i(cs,"BUTTON",{class:!0});var us=c(at);pe=i(us,"DIV",{class:!0});var Wt=c(pe);ot=i(Wt,"SPAN",{class:!0});var ds=c(ot);Sl=b(ds,"Share shot clock URL"),ds.forEach(a),Il=p(Wt),P(We.$$.fragment,Wt),Wt.forEach(a),us.forEach(a),cs.forEach(a),Qt.forEach(a),Tl=p(Mt),De=i(Mt,"DIV",{class:!0});var Gt=c(De);Be=i(Gt,"DIV",{class:!0});var Kt=c(Be);nt=i(Kt,"SPAN",{class:!0});var ms=c(nt);Nl=b(ms,"Controller URL"),ms.forEach(a),Dl=p(Kt),ve=i(Kt,"A",{href:!0});var wt=c(ve);It=b(wt,r[4]),Bl=b(wt,J),Pl=b(wt,"/control/"),Vl=b(wt,r[12]),wt.forEach(a),Kt.forEach(a),Ul=p(Gt),ft=i(Gt,"DIV",{});var hs=c(ft);it=i(hs,"BUTTON",{class:!0});var _s=c(it);ge=i(_s,"DIV",{class:!0});var Jt=c(ge);ct=i(Jt,"SPAN",{class:!0});var ps=c(ct);Al=b(ps,"Share Controller URL"),ps.forEach(a),yl=p(Jt),P(Ge.$$.fragment,Jt),Jt.forEach(a),_s.forEach(a),hs.forEach(a),Gt.forEach(a),Mt.forEach(a),Rt.forEach(a),At.forEach(a),Ut.forEach(a),dt.forEach(a),this.h()},h(){n(l,"class","absolute top-3 left-3"),n(m,"class","text-xs"),n(N,"class","text-xl"),n(d,"class","mr-5"),n(te,"class","text-xs"),n(H,"class","text-xl"),n(L,"class",""),n($,"class","flex flex-row"),n(h,"class","absolute top-3 right-3"),n(F,"class","flex flex-col justify-center items-center m-5 lg:mr-20 lg:m-0"),n(le,"title","Hotkeys: Spacebar, Enter"),n(y,"class","controlButton svelte-2i7fof"),v(y,"startButton",!r[9]&&r[0]>0),v(y,"stopButton",r[9]&&r[0]>0),v(y,"buttonDisabled",r[0]==0),n(Y,"class","controlButton shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(Y,"title","Hotkeys: M, C, Backspace"),n(z,"class","flex flex-row lg:flex-col justify-evenly m-5 lg:m-0"),n(ue,"class","flex flex-row justify-center"),n(ce,"class","lg:hidden"),n(de,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(me,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(E,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(E,"title","Rewind to last reset"),n(Ce,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(je,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(R,"class","flex flex-row lg:flex-col justify-evenly mt-5 lg:mt-0 lg:ml-20"),n(K,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(K,"title","Manual horn"),v(K,"buttonDisabled",r[0]<=2),n(Ze,"class","mt-1"),n($e,"class","my-5 flex flex-col items-center"),n(se,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(se,"title","Timeout"),n(et,"class","mt-1"),n(we,"class","my-5 flex flex-col items-center"),n(re,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(re,"title","Quarter"),n(tt,"class","mt-1"),n(Ee,"class","my-5 flex flex-col items-center"),n(ae,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(ae,"title","Quarter"),n(lt,"class","mt-1"),n(Se,"class","my-5 flex flex-col items-center"),n(G,"class","lg:text-right flex flex-row lg:flex-col justify-evenly lg:justify-start m-3 mt-1"),n(st,"class","text-xs"),n(_e,"href",J+"/room/"+r[12]),n(Ne,"class","hidden lg:flex flex-col mb-3"),n(ot,"class","mr-2"),n(pe,"class","flex flex-row items-center"),n(at,"class","shareButton lg:text-lg svelte-2i7fof"),v(rt,"hidden",!navigator.share),n(Te,"class","w-1/2 lg:w-full"),n(nt,"class","text-xs"),n(ve,"href",J+"/control/"+r[12]),n(Be,"class","hidden lg:flex flex-col mb-3"),n(ct,"class","mr-2"),n(ge,"class","flex flex-row items-center"),n(it,"class","shareButton lg:text-lg svelte-2i7fof"),v(ft,"hidden",!navigator.share),n(De,"class","w-1/2 lg:w-full"),n(Ie,"class","lg:text-right flex flex-row lg:flex-col justify-between lg:justify-start m-3 lg:mt-20"),n(ke,"class","flex flex-col lg:flex-col-reverse lg:justify-end"),n(W,"class","h-full flex flex-col lg:flex-row justify-between lg:pb-0"),v(W,"hidden",!r[11]),n(j,"class","w--7/8 lg:w-full mx-2 lg:mx-0 p-1 lg:p-0 border lg:border-0 rounded mt-3 lg:mt-0"),v(j,"pb-8",r[11]),v(j,"mb-5",r[11]),n(Q,"class","lg:h-full w-full flex flex-col lg:flex-row justify-start lg:justify-between")},m(o,w){A(o,l,w),Pe[t].m(l,null),A(o,u,w),A(o,h,w),e(h,$),e($,d),e(d,m),e(m,T),e(d,k),e(d,N),e(N,X),e($,ye),e($,L),e(L,te),e(te,ne),e(L,fe),e(L,H),e(H,ie),A(o,Xe,w),A(o,Q,w),e(Q,F),O&&O.m(F,null),e(F,Re),ee.m(F,null),e(Q,mt),e(Q,z),e(z,y),e(y,le),be.m(le,null),e(z,Ye),e(z,Y),e(Y,ht),e(Q,_t),e(Q,j),e(j,ce),e(ce,ue),Ve[q].m(ue,null),e(j,pt),e(j,W),e(W,R),e(R,de),e(de,vt),e(R,gt),e(R,me),e(me,bt),e(R,kt),e(R,E),V(Z,E,null),e(E,M),V(he,E,null),e(R,Oe),e(R,Ce),e(Ce,Yt),e(R,Zt),e(R,je),e(je,el),e(W,tl),e(W,ke),e(ke,G),e(G,$e),e($e,K),V(Le,K,null),e(K,ll),V(He,K,null),e($e,sl),e($e,Ze),e(Ze,rl),e(G,al),e(G,we),e(we,se),V(ze,se,null),e(se,ol),V(qe,se,null),e(we,nl),e(we,et),e(et,fl),e(G,il),e(G,Ee),e(Ee,re),V(xe,re,null),e(re,cl),V(Me,re,null),e(Ee,ul),e(Ee,tt),e(tt,dl),e(G,ml),e(G,Se),e(Se,ae),V(Qe,ae,null),e(ae,hl),V(Fe,ae,null),e(Se,_l),e(Se,lt),e(lt,pl),e(ke,vl),e(ke,Ie),e(Ie,Te),e(Te,Ne),e(Ne,st),e(st,gl),e(Ne,bl),e(Ne,_e),e(_e,St),e(_e,kl),e(_e,$l),e(_e,wl),e(Te,El),e(Te,rt),e(rt,at),e(at,pe),e(pe,ot),e(ot,Sl),e(pe,Il),V(We,pe,null),e(Ie,Tl),e(Ie,De),e(De,Be),e(Be,nt),e(nt,Nl),e(Be,Dl),e(Be,ve),e(ve,It),e(ve,Bl),e(ve,Pl),e(ve,Vl),e(De,Ul),e(De,ft),e(ft,it),e(it,ge),e(ge,ct),e(ct,Al),e(ge,yl),V(Ge,ge,null),Ke=!0,Rl||(Ll=[D(l,"click",r[25]),D(y,"click",r[14]),D(Y,"click",r[15]),D(ce,"click",r[26]),D(de,"click",r[27]),D(me,"click",r[28]),D(E,"click",r[16]),D(Ce,"click",r[29]),D(je,"click",r[30]),D(K,"click",r[31]),D(se,"click",r[32]),D(re,"click",r[33]),D(ae,"click",r[34]),D(pe,"click",r[22]),D(ge,"click",r[23])],Rl=!0)},p(o,w){let ut=t;t=zl(o),t===ut?Pe[t].p(o,w):(jl(),S(Pe[ut],1,1,()=>{Pe[ut]=null}),Cl(),s=Pe[t],s?s.p(o,w):(s=Pe[t]=Hl[t](o),s.c()),I(s,1),s.m(l,null)),(!Ke||w[0]&8)&&Je(ie,o[3]),o[6]?O?O.p(o,w):(O=$s(o),O.c(),O.m(F,Re)):O&&(O.d(1),O=null),Tt===(Tt=ql(o))&&ee?ee.p(o,w):(ee.d(1),ee=Tt(o),ee&&(ee.c(),ee.m(F,null))),Nt!==(Nt=xl(o))&&(be.d(1),be=Nt(o),be&&(be.c(),be.m(le,null))),w[0]&513&&v(y,"startButton",!o[9]&&o[0]>0),w[0]&513&&v(y,"stopButton",o[9]&&o[0]>0),w[0]&1&&v(y,"buttonDisabled",o[0]==0);let Ue=q;q=Ql(o),q===Ue?Ve[q].p(o,w):(jl(),S(Ve[Ue],1,1,()=>{Ve[Ue]=null}),Cl(),x=Ve[q],x?x.p(o,w):(x=Ve[q]=Ml[q](o),x.c()),I(x,1),x.m(ue,null)),w[0]&1&&v(K,"buttonDisabled",o[0]<=2),(!Ke||w[0]&16)&&Je(St,o[4]),(!Ke||w[0]&16)&&Je(It,o[4]),w[0]&2048&&v(W,"hidden",!o[11]),w[0]&2048&&v(j,"pb-8",o[11]),w[0]&2048&&v(j,"mb-5",o[11])},i(o){Ke||(I(s),I(x),I(Z.$$.fragment,o),I(he.$$.fragment,o),I(Le.$$.fragment,o),I(He.$$.fragment,o),I(ze.$$.fragment,o),I(qe.$$.fragment,o),I(xe.$$.fragment,o),I(Me.$$.fragment,o),I(Qe.$$.fragment,o),I(Fe.$$.fragment,o),I(We.$$.fragment,o),I(Ge.$$.fragment,o),Ke=!0)},o(o){S(s),S(x),S(Z.$$.fragment,o),S(he.$$.fragment,o),S(Le.$$.fragment,o),S(He.$$.fragment,o),S(ze.$$.fragment,o),S(qe.$$.fragment,o),S(xe.$$.fragment,o),S(Me.$$.fragment,o),S(Qe.$$.fragment,o),S(Fe.$$.fragment,o),S(We.$$.fragment,o),S(Ge.$$.fragment,o),Ke=!1},d(o){o&&a(l),Pe[t].d(),o&&a(u),o&&a(h),o&&a(Xe),o&&a(Q),O&&O.d(),ee.d(),be.d(),Ve[q].d(),U(Z),U(he),U(Le),U(He),U(ze),U(qe),U(xe),U(Me),U(Qe),U(Fe),U(We),U(Ge),Rl=!1,ws(Ll)}}}function Hs(r){let l,t;return l=new C({props:{icon:As,size:"2x"}}),{c(){B(l.$$.fragment)},l(s){P(l.$$.fragment,s)},m(s,u){V(l,s,u),t=!0},p:Et,i(s){t||(I(l.$$.fragment,s),t=!0)},o(s){S(l.$$.fragment,s),t=!1},d(s){U(l,s)}}}function zs(r){let l,t;return l=new C({props:{icon:ys,size:"2x"}}),{c(){B(l.$$.fragment)},l(s){P(l.$$.fragment,s)},m(s,u){V(l,s,u),t=!0},p:Et,i(s){t||(I(l.$$.fragment,s),t=!0)},o(s){S(l.$$.fragment,s),t=!1},d(s){U(l,s)}}}function $s(r){let l,t;return{c(){l=f("span"),t=g(r[6]),this.h()},l(s){l=i(s,"SPAN",{class:!0});var u=c(l);t=b(u,r[6]),u.forEach(a),this.h()},h(){n(l,"class","title mt-5 svelte-2i7fof")},m(s,u){A(s,l,u),e(l,t)},p(s,u){u[0]&64&&Je(t,s[6])},d(s){s&&a(l)}}}function qs(r){let l,t,s,u,h,$;return{c(){l=f("div"),t=f("span"),s=g(r[1]),u=_(),h=f("span"),$=g(r[2]),this.h()},l(d){l=i(d,"DIV",{class:!0});var m=c(l);t=i(m,"SPAN",{class:!0});var T=c(t);s=b(T,r[1]),T.forEach(a),u=p(m),h=i(m,"SPAN",{class:!0});var k=c(h);$=b(k,r[2]),k.forEach(a),m.forEach(a),this.h()},h(){n(t,"class","clock svelte-2i7fof"),v(t,"text-red-600",r[8]),v(t,"clock-small",r[6]),v(t,"clock-large",!r[6]),n(h,"class","clock svelte-2i7fof"),v(h,"text-red-600",r[8]),v(h,"clock-small",r[6]),v(h,"clock-large",!r[6]),n(l,"class","flex portrait:flex-col landscape:flex-row")},m(d,m){A(d,l,m),e(l,t),e(t,s),e(l,u),e(l,h),e(h,$)},p(d,m){m[0]&2&&Je(s,d[1]),m[0]&256&&v(t,"text-red-600",d[8]),m[0]&64&&v(t,"clock-small",d[6]),m[0]&64&&v(t,"clock-large",!d[6]),m[0]&4&&Je($,d[2]),m[0]&256&&v(h,"text-red-600",d[8]),m[0]&64&&v(h,"clock-small",d[6]),m[0]&64&&v(h,"clock-large",!d[6])},d(d){d&&a(l)}}}function xs(r){let l,t;return{c(){l=f("span"),t=g(r[7]),this.h()},l(s){l=i(s,"SPAN",{class:!0});var u=c(l);t=b(u,r[7]),u.forEach(a),this.h()},h(){n(l,"class","clock svelte-2i7fof"),v(l,"text-red-600",r[8]),v(l,"clock-small",r[6]),v(l,"clock-large",!r[6])},m(s,u){A(s,l,u),e(l,t)},p(s,u){u[0]&128&&Je(t,s[7]),u[0]&256&&v(l,"text-red-600",s[8]),u[0]&64&&v(l,"clock-small",s[6]),u[0]&64&&v(l,"clock-large",!s[6])},d(s){s&&a(l)}}}function Ms(r){let l;return{c(){l=g("START")},l(t){l=b(t,"START")},m(t,s){A(t,l,s)},d(t){t&&a(l)}}}function Qs(r){let l;return{c(){l=g("STOP")},l(t){l=b(t,"STOP")},m(t,s){A(t,l,s)},d(t){t&&a(l)}}}function Fs(r){let l,t,s,u,h,$;return t=new C({props:{icon:Rs}}),{c(){l=f("div"),B(t.$$.fragment),s=_(),u=f("span"),h=g("Show advanced controls"),this.h()},l(d){l=i(d,"DIV",{class:!0});var m=c(l);P(t.$$.fragment,m),m.forEach(a),s=p(d),u=i(d,"SPAN",{class:!0});var T=c(u);h=b(T,"Show advanced controls"),T.forEach(a),this.h()},h(){n(l,"class","mt-1"),n(u,"class","ml-2")},m(d,m){A(d,l,m),V(t,l,null),A(d,s,m),A(d,u,m),e(u,h),$=!0},p:Et,i(d){$||(I(t.$$.fragment,d),$=!0)},o(d){S(t.$$.fragment,d),$=!1},d(d){d&&a(l),U(t),d&&a(s),d&&a(u)}}}function Ws(r){let l,t,s,u,h,$;return t=new C({props:{icon:Os}}),{c(){l=f("div"),B(t.$$.fragment),s=_(),u=f("span"),h=g("Hide advanced controls"),this.h()},l(d){l=i(d,"DIV",{class:!0});var m=c(l);P(t.$$.fragment,m),m.forEach(a),s=p(d),u=i(d,"SPAN",{class:!0});var T=c(u);h=b(T,"Hide advanced controls"),T.forEach(a),this.h()},h(){n(l,"class","mt-1"),n(u,"class","ml-2")},m(d,m){A(d,l,m),V(t,l,null),A(d,s,m),A(d,u,m),e(u,h),$=!0},p:Et,i(d){$||(I(t.$$.fragment,d),$=!0)},o(d){S(t.$$.fragment,d),$=!1},d(d){d&&a(l),U(t),d&&a(s),d&&a(u)}}}function Gs(r){let l,t,s,u,h,$;const d=[Ls,js],m=[];function T(k,N){return k[5]?0:1}return t=T(r),s=m[t]=d[t](r),{c(){l=f("div"),s.c(),this.h()},l(k){l=i(k,"DIV",{id:!0,class:!0});var N=c(l);s.l(N),N.forEach(a),this.h()},h(){n(l,"id","main"),n(l,"class","w-full h-full svelte-2i7fof")},m(k,N){A(k,l,N),m[t].m(l,null),u=!0,h||($=[D(Cs,"keydown",r[24]),D(l,"click",r[13],{once:!0})],h=!0)},p(k,N){let X=t;t=T(k),t===X?m[t].p(k,N):(jl(),S(m[X],1,1,()=>{m[X]=null}),Cl(),s=m[t],s?s.p(k,N):(s=m[t]=d[t](k),s.c()),I(s,1),s.m(l,null))},i(k){u||(I(s),u=!0)},o(k){S(s),u=!1},d(k){k&&a(l),m[t].d(),h=!1,ws($)}}}function Ks(r,l,t){let s;Ts(r,Vs,E=>t(38,s=E));let u=s.params.roomId,h,$,d=!1,m,T,k,N="",X="",ye="",L=!1,te,ne,fe=!1,H,ie=!0;Ns(()=>{t(4,$=window.location.host),s.url.searchParams.has("pin")?t(3,h=s.url.searchParams.get("pin")):(t(3,h=sessionStorage.getItem("PIN-"+u)),h||t(3,h=prompt("Please enter the control PIN for room "+u))),h?(sessionStorage.setItem("PIN-"+u,h),Q(h,s.url.searchParams),H=new Audio(J+"/audio/beep.mp3")):Ol(J+"/"),navigator.share&&t(11,ie=!1)});function Xe(){t(10,fe=!0),H.play(),H.pause(),H.load()}function Q(E,Z){m=new WebSocket(Bs+"://"+Ps+"/"+u+"?pin="+E),m.onerror=function(M){console.log(M)},m.onmessage=function(M){if(M.data==="ROOM_NOT_FOUND")alert("The room "+u+" does not exist"),Ol(J+"/");else if(M.data==="WRONG_PIN")alert("Wrong PIN"),sessionStorage.removeItem("PIN-"+u),Ol(J+"/");else if(M.data==="AUTHENTICATED")t(5,d=!0),Z.has("shotclock")&&m.send("setInitialShotclock;"+s.url.searchParams.get("shotclock")),Z.has("timeout")&&m.send("setTimeout;"+s.url.searchParams.get("timeout")),Z.has("quarter")&&m.send("setQuarter;"+s.url.searchParams.get("quarter"));else if(M.data==="HORN")j();else{let he=M.data.substring(0,1),Oe=M.data.substring(2).includes(";")?M.data.substring(2).split(";"):[M.data.substring(2)];switch(he){case"t":t(0,k=parseInt(Oe[1])),k==0?ht():_t();break;case"r":t(9,te=Oe[0]==="1");break;case"T":t(6,T=Oe[0]),T==""&&t(6,T=void 0);break}}}}function F(){te?m.send("pause"):m.send("start")}function Re(){m.send("reset")}function mt(){m.send("rewind")}function z(E){m.send("updateTime;"+E)}function y(){m.send("horn")}function le(){m.send("timeout")}function Ye(){m.send("quarter")}function Y(){m.send("halftime")}function ht(){ne===void 0&&(t(8,L=!0),j(),ne=setInterval(function(){t(8,L=!L)},500))}function _t(){ne&&(clearInterval(ne),ne=void 0,t(8,L=!1))}function j(){fe&&(H.play(),setTimeout(function(){H.pause(),H.load()},2e3))}function ce(){navigator.share&&navigator.share({title:"Shot Clock room "+u,url:J+"/room/"+u})}function ue(){navigator.share&&navigator.share({title:"Shot Clock controller "+u,url:J+"/control/"+u})}function q(E){E.key===" "||E.key==="Enter"?(F(),E.preventDefault()):(E.key.toLowerCase()==="m"||E.key.toLowerCase()==="c"||E.key==="Backspace")&&(Re(),E.preventDefault())}const x=()=>t(10,fe=!fe),pt=()=>t(11,ie=!ie),W=()=>z(-5),R=()=>z(-1),de=()=>z(1),vt=()=>z(5),gt=()=>y(),me=()=>le(),bt=()=>Ye(),kt=()=>Y();return r.$$.update=()=>{r.$$.dirty[0]&7&&k!==void 0&&(k<=60?t(7,N=k.toString().padStart(2,"0")):(t(1,X=Math.floor(k/60).toString().padStart(2,"0")+":"),t(2,ye=(k%60).toString().padStart(2,"0")),t(7,N=X+ye)))},[k,X,ye,h,$,d,T,N,L,te,fe,ie,u,Xe,F,Re,mt,z,y,le,Ye,Y,ce,ue,q,x,pt,W,R,de,vt,gt,me,bt,kt]}class tr extends Es{constructor(l){super(),Ss(this,l,Ks,Gs,Is,{},null,[-1,-1])}}export{tr as default};
