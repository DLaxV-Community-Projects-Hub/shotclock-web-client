import{S as xl,i as es,s as ts,e as u,c as d,a as m,d as a,b as f,g as B,R as A,o as S,p as ml,q as I,G as Zl,I as ls,v as ss,T as rs,n as hl,w as y,x as R,y as O,E as ht,B as C,t as w,h as $,Q as l,j as Me,k as v,m as p,U as _}from"../../chunks/index-0ad21126.js";import{w as as,s as os,p as ns}from"../../chunks/config-ff7e6c89.js";import{b as J}from"../../chunks/singletons-1b661bce.js";import{L as fs,F,f as Wl,a as Gl,b as Kl,c as Jl,d as Xl,e as is,g as cs,h as us,i as ds}from"../../chunks/LoadingInfo-418234a4.js";import{g as dl}from"../../chunks/navigation-d1154fc1.js";const{window:ms}=rs;function hs(r){let t,e;return t=new fs({}),{c(){y(t.$$.fragment)},l(s){R(t.$$.fragment,s)},m(s,n){O(t,s,n),e=!0},p:ht,i(s){e||(I(t.$$.fragment,s),e=!0)},o(s){S(t.$$.fragment,s),e=!1},d(s){C(t,s)}}}function _s(r){let t,e,s,n,h,b,i,c,T,g,N,X,Ne,j,Z,ae,oe,L,ne,Fe,Q,W,De,nt,z,P,x,Qe,ee,ft,We,H,fe,ie,q,M,it,G,V,ce,ct,ut,ue,D,Be,E,de,Pe,Ve,Ct,Ue,jt,Lt,Ae,zt,Ht,ge,te,Ge,K,ye,qt,Re,Mt,Ke,le,Oe,Ft,Ce,Qt,Je,se,je,Wt,Le,Gt,be,ke,we,Xe,Kt,Jt,me,_t,Xt,Yt,Zt,xt,Ye,Ze,he,xe,el,tl,ze,ll,$e,Ee,et,sl,rl,_e,vt,al,ol,nl,fl,tt,lt,ve,st,il,cl,He,qe,ul,_l;const vl=[ps,vs],Se=[];function pl(o,k){return o[10]?0:1}e=pl(r),s=Se[e]=vl[e](r);let U=r[6]&&Yl(r);function gl(o,k){return o[0]<=60?bs:gs}let pt=gl(r),Y=pt(r);function bl(o,k){return o[9]?ws:ks}let gt=bl(r),pe=gt(r);const kl=[Es,$s],Ie=[];function wl(o,k){return o[11]?0:1}return q=wl(r),M=Ie[q]=kl[q](r),de=new F({props:{class:"w-full lg:hidden",icon:Wl}}),Ve=new F({props:{class:"w-full hidden lg:block",icon:Wl,size:"2x"}}),ye=new F({props:{class:"w-full lg:hidden",icon:Gl}}),Re=new F({props:{class:"w-full hidden lg:block",icon:Gl,size:"2x"}}),Oe=new F({props:{class:"w-full lg:hidden",icon:Kl}}),Ce=new F({props:{class:"w-full hidden lg:block",icon:Kl,size:"2x"}}),je=new F({props:{class:"w-full lg:hidden",icon:Jl}}),Le=new F({props:{class:"w-full hidden lg:block",icon:Jl,size:"2x"}}),ze=new F({props:{icon:Xl,size:"lg"}}),He=new F({props:{icon:Xl,size:"lg"}}),{c(){t=u("div"),s.c(),n=v(),h=u("div"),b=u("div"),i=u("div"),c=u("span"),T=w("Room"),g=v(),N=u("span"),X=w(r[12]),Ne=v(),j=u("div"),Z=u("span"),ae=w("PIN"),oe=v(),L=u("span"),ne=w(r[3]),Fe=v(),Q=u("div"),W=u("div"),U&&U.c(),De=v(),Y.c(),nt=v(),z=u("div"),P=u("button"),x=u("span"),pe.c(),Qe=v(),ee=u("button"),ft=w("RESET"),We=v(),H=u("div"),fe=u("button"),ie=u("div"),M.c(),it=v(),G=u("div"),V=u("div"),ce=u("button"),ct=w("-5s"),ut=v(),ue=u("button"),D=w("-1s"),Be=v(),E=u("button"),y(de.$$.fragment),Pe=v(),y(Ve.$$.fragment),Ct=v(),Ue=u("button"),jt=w("+1s"),Lt=v(),Ae=u("button"),zt=w("+5s"),Ht=v(),ge=u("div"),te=u("div"),Ge=u("div"),K=u("button"),y(ye.$$.fragment),qt=v(),y(Re.$$.fragment),Mt=v(),Ke=u("div"),le=u("button"),y(Oe.$$.fragment),Ft=v(),y(Ce.$$.fragment),Qt=v(),Je=u("div"),se=u("button"),y(je.$$.fragment),Wt=v(),y(Le.$$.fragment),Gt=v(),be=u("div"),ke=u("div"),we=u("div"),Xe=u("span"),Kt=w("Shot clock URL"),Jt=v(),me=u("a"),_t=w(r[4]),Xt=w(J),Yt=w("/room/"),Zt=w(r[12]),xt=v(),Ye=u("div"),Ze=u("button"),he=u("div"),xe=u("span"),el=w("Share shot clock URL"),tl=v(),y(ze.$$.fragment),ll=v(),$e=u("div"),Ee=u("div"),et=u("span"),sl=w("Controller URL"),rl=v(),_e=u("a"),vt=w(r[4]),al=w(J),ol=w("/control/"),nl=w(r[12]),fl=v(),tt=u("div"),lt=u("button"),ve=u("div"),st=u("span"),il=w("Share Controller URL"),cl=v(),y(He.$$.fragment),this.h()},l(o){t=d(o,"DIV",{class:!0});var k=m(t);s.l(k),k.forEach(a),n=p(o),h=d(o,"DIV",{class:!0});var rt=m(h);b=d(rt,"DIV",{class:!0});var Te=m(b);i=d(Te,"DIV",{class:!0});var bt=m(i);c=d(bt,"SPAN",{class:!0});var $l=m(c);T=$($l,"Room"),$l.forEach(a),g=p(bt),N=d(bt,"SPAN",{class:!0});var El=m(N);X=$(El,r[12]),El.forEach(a),bt.forEach(a),Ne=p(Te),j=d(Te,"DIV",{class:!0});var kt=m(j);Z=d(kt,"SPAN",{class:!0});var Sl=m(Z);ae=$(Sl,"PIN"),Sl.forEach(a),oe=p(kt),L=d(kt,"SPAN",{class:!0});var Il=m(L);ne=$(Il,r[3]),Il.forEach(a),kt.forEach(a),Te.forEach(a),rt.forEach(a),Fe=p(o),Q=d(o,"DIV",{class:!0});var at=m(Q);W=d(at,"DIV",{class:!0});var wt=m(W);U&&U.l(wt),De=p(wt),Y.l(wt),wt.forEach(a),nt=p(at),z=d(at,"DIV",{class:!0});var $t=m(z);P=d($t,"BUTTON",{class:!0});var Tl=m(P);x=d(Tl,"SPAN",{title:!0});var Nl=m(x);pe.l(Nl),Nl.forEach(a),Tl.forEach(a),Qe=p($t),ee=d($t,"BUTTON",{class:!0,title:!0});var Dl=m(ee);ft=$(Dl,"RESET"),Dl.forEach(a),$t.forEach(a),We=p(at),H=d(at,"DIV",{class:!0});var Et=m(H);fe=d(Et,"BUTTON",{class:!0});var Bl=m(fe);ie=d(Bl,"DIV",{class:!0});var Pl=m(ie);M.l(Pl),Pl.forEach(a),Bl.forEach(a),it=p(Et),G=d(Et,"DIV",{class:!0});var St=m(G);V=d(St,"DIV",{class:!0});var re=m(V);ce=d(re,"BUTTON",{class:!0});var Vl=m(ce);ct=$(Vl,"-5s"),Vl.forEach(a),ut=p(re),ue=d(re,"BUTTON",{class:!0});var Ul=m(ue);D=$(Ul,"-1s"),Ul.forEach(a),Be=p(re),E=d(re,"BUTTON",{class:!0,title:!0});var It=m(E);R(de.$$.fragment,It),Pe=p(It),R(Ve.$$.fragment,It),It.forEach(a),Ct=p(re),Ue=d(re,"BUTTON",{class:!0});var Al=m(Ue);jt=$(Al,"+1s"),Al.forEach(a),Lt=p(re),Ae=d(re,"BUTTON",{class:!0});var yl=m(Ae);zt=$(yl,"+5s"),yl.forEach(a),re.forEach(a),Ht=p(St),ge=d(St,"DIV",{class:!0});var Tt=m(ge);te=d(Tt,"DIV",{class:!0});var ot=m(te);Ge=d(ot,"DIV",{class:!0});var Rl=m(Ge);K=d(Rl,"BUTTON",{class:!0,title:!0});var Nt=m(K);R(ye.$$.fragment,Nt),qt=p(Nt),R(Re.$$.fragment,Nt),Nt.forEach(a),Rl.forEach(a),Mt=p(ot),Ke=d(ot,"DIV",{class:!0});var Ol=m(Ke);le=d(Ol,"BUTTON",{class:!0,title:!0});var Dt=m(le);R(Oe.$$.fragment,Dt),Ft=p(Dt),R(Ce.$$.fragment,Dt),Dt.forEach(a),Ol.forEach(a),Qt=p(ot),Je=d(ot,"DIV",{class:!0});var Cl=m(Je);se=d(Cl,"BUTTON",{class:!0,title:!0});var Bt=m(se);R(je.$$.fragment,Bt),Wt=p(Bt),R(Le.$$.fragment,Bt),Bt.forEach(a),Cl.forEach(a),ot.forEach(a),Gt=p(Tt),be=d(Tt,"DIV",{class:!0});var Pt=m(be);ke=d(Pt,"DIV",{class:!0});var Vt=m(ke);we=d(Vt,"DIV",{class:!0});var Ut=m(we);Xe=d(Ut,"SPAN",{class:!0});var jl=m(Xe);Kt=$(jl,"Shot clock URL"),jl.forEach(a),Jt=p(Ut),me=d(Ut,"A",{href:!0});var dt=m(me);_t=$(dt,r[4]),Xt=$(dt,J),Yt=$(dt,"/room/"),Zt=$(dt,r[12]),dt.forEach(a),Ut.forEach(a),xt=p(Vt),Ye=d(Vt,"DIV",{});var Ll=m(Ye);Ze=d(Ll,"BUTTON",{class:!0});var zl=m(Ze);he=d(zl,"DIV",{class:!0});var At=m(he);xe=d(At,"SPAN",{class:!0});var Hl=m(xe);el=$(Hl,"Share shot clock URL"),Hl.forEach(a),tl=p(At),R(ze.$$.fragment,At),At.forEach(a),zl.forEach(a),Ll.forEach(a),Vt.forEach(a),ll=p(Pt),$e=d(Pt,"DIV",{class:!0});var yt=m($e);Ee=d(yt,"DIV",{class:!0});var Rt=m(Ee);et=d(Rt,"SPAN",{class:!0});var ql=m(et);sl=$(ql,"Controller URL"),ql.forEach(a),rl=p(Rt),_e=d(Rt,"A",{href:!0});var mt=m(_e);vt=$(mt,r[4]),al=$(mt,J),ol=$(mt,"/control/"),nl=$(mt,r[12]),mt.forEach(a),Rt.forEach(a),fl=p(yt),tt=d(yt,"DIV",{});var Ml=m(tt);lt=d(Ml,"BUTTON",{class:!0});var Fl=m(lt);ve=d(Fl,"DIV",{class:!0});var Ot=m(ve);st=d(Ot,"SPAN",{class:!0});var Ql=m(st);il=$(Ql,"Share Controller URL"),Ql.forEach(a),cl=p(Ot),R(He.$$.fragment,Ot),Ot.forEach(a),Fl.forEach(a),Ml.forEach(a),yt.forEach(a),Pt.forEach(a),Tt.forEach(a),St.forEach(a),Et.forEach(a),at.forEach(a),this.h()},h(){f(t,"class","absolute top-3 left-3"),f(c,"class","text-xs"),f(N,"class","text-xl"),f(i,"class","mr-5"),f(Z,"class","text-xs"),f(L,"class","text-xl"),f(j,"class",""),f(b,"class","flex flex-row"),f(h,"class","absolute top-3 right-3"),f(W,"class","flex flex-col justify-center items-center m-5 lg:mr-20 lg:m-0"),f(x,"title","Hotkeys: Spacebar, Enter"),f(P,"class","controlButton svelte-2i7fof"),_(P,"startButton",!r[9]&&r[0]>0),_(P,"stopButton",r[9]&&r[0]>0),_(P,"buttonDisabled",r[0]==0),f(ee,"class","controlButton shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(ee,"title","Hotkeys: M, C, Backspace"),f(z,"class","flex flex-row lg:flex-col justify-evenly m-5 lg:m-0"),f(ie,"class","flex flex-row justify-center"),f(fe,"class","lg:hidden"),f(ce,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(ue,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(E,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(E,"title","Rewind to last reset"),f(Ue,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(Ae,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(V,"class","flex flex-row lg:flex-col justify-evenly mt-5 lg:mt-0 lg:ml-20"),f(K,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(K,"title","Manual horn"),_(K,"buttonDisabled",r[0]<=2),f(Ge,"class","my-5"),f(le,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(le,"title","Timeout"),f(Ke,"class","my-5"),f(se,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),f(se,"title","Quarter"),f(Je,"class","my-5"),f(te,"class","lg:text-right flex flex-row lg:flex-col justify-evenly lg:justify-start m-3 mt-1"),f(Xe,"class","text-xs"),f(me,"href",J+"/room/"+r[12]),f(we,"class","hidden lg:flex flex-col mb-3"),f(xe,"class","mr-2"),f(he,"class","flex flex-row items-center"),f(Ze,"class","shareButton lg:text-lg svelte-2i7fof"),_(Ye,"hidden",!navigator.share),f(ke,"class","w-1/2 lg:w-full"),f(et,"class","text-xs"),f(_e,"href",J+"/control/"+r[12]),f(Ee,"class","hidden lg:flex flex-col mb-3"),f(st,"class","mr-2"),f(ve,"class","flex flex-row items-center"),f(lt,"class","shareButton lg:text-lg svelte-2i7fof"),_(tt,"hidden",!navigator.share),f($e,"class","w-1/2 lg:w-full"),f(be,"class","lg:text-right flex flex-row lg:flex-col justify-between lg:justify-start m-3 lg:mt-20"),f(ge,"class","flex flex-col lg:flex-col-reverse lg:justify-end"),f(G,"class","h-full flex flex-col lg:flex-row justify-between lg:pb-0"),_(G,"hidden",!r[11]),f(H,"class","w--7/8 lg:w-full mx-2 lg:mx-0 p-1 lg:p-0 border lg:border-0 rounded mt-3 lg:mt-0"),_(H,"pb-8",r[11]),_(H,"mb-5",r[11]),f(Q,"class","lg:h-full w-full flex flex-col lg:flex-row justify-start lg:justify-between")},m(o,k){B(o,t,k),Se[e].m(t,null),B(o,n,k),B(o,h,k),l(h,b),l(b,i),l(i,c),l(c,T),l(i,g),l(i,N),l(N,X),l(b,Ne),l(b,j),l(j,Z),l(Z,ae),l(j,oe),l(j,L),l(L,ne),B(o,Fe,k),B(o,Q,k),l(Q,W),U&&U.m(W,null),l(W,De),Y.m(W,null),l(Q,nt),l(Q,z),l(z,P),l(P,x),pe.m(x,null),l(z,Qe),l(z,ee),l(ee,ft),l(Q,We),l(Q,H),l(H,fe),l(fe,ie),Ie[q].m(ie,null),l(H,it),l(H,G),l(G,V),l(V,ce),l(ce,ct),l(V,ut),l(V,ue),l(ue,D),l(V,Be),l(V,E),O(de,E,null),l(E,Pe),O(Ve,E,null),l(V,Ct),l(V,Ue),l(Ue,jt),l(V,Lt),l(V,Ae),l(Ae,zt),l(G,Ht),l(G,ge),l(ge,te),l(te,Ge),l(Ge,K),O(ye,K,null),l(K,qt),O(Re,K,null),l(te,Mt),l(te,Ke),l(Ke,le),O(Oe,le,null),l(le,Ft),O(Ce,le,null),l(te,Qt),l(te,Je),l(Je,se),O(je,se,null),l(se,Wt),O(Le,se,null),l(ge,Gt),l(ge,be),l(be,ke),l(ke,we),l(we,Xe),l(Xe,Kt),l(we,Jt),l(we,me),l(me,_t),l(me,Xt),l(me,Yt),l(me,Zt),l(ke,xt),l(ke,Ye),l(Ye,Ze),l(Ze,he),l(he,xe),l(xe,el),l(he,tl),O(ze,he,null),l(be,ll),l(be,$e),l($e,Ee),l(Ee,et),l(et,sl),l(Ee,rl),l(Ee,_e),l(_e,vt),l(_e,al),l(_e,ol),l(_e,nl),l($e,fl),l($e,tt),l(tt,lt),l(lt,ve),l(ve,st),l(st,il),l(ve,cl),O(He,ve,null),qe=!0,ul||(_l=[A(t,"click",r[24]),A(P,"click",r[14]),A(ee,"click",r[15]),A(fe,"click",r[25]),A(ce,"click",r[26]),A(ue,"click",r[27]),A(E,"click",r[16]),A(Ue,"click",r[28]),A(Ae,"click",r[29]),A(K,"click",r[30]),A(le,"click",r[31]),A(se,"click",r[32]),A(he,"click",r[21]),A(ve,"click",r[22])],ul=!0)},p(o,k){let rt=e;e=pl(o),e===rt?Se[e].p(o,k):(hl(),S(Se[rt],1,1,()=>{Se[rt]=null}),ml(),s=Se[e],s?s.p(o,k):(s=Se[e]=vl[e](o),s.c()),I(s,1),s.m(t,null)),(!qe||k[0]&8)&&Me(ne,o[3]),o[6]?U?U.p(o,k):(U=Yl(o),U.c(),U.m(W,De)):U&&(U.d(1),U=null),pt===(pt=gl(o))&&Y?Y.p(o,k):(Y.d(1),Y=pt(o),Y&&(Y.c(),Y.m(W,null))),gt!==(gt=bl(o))&&(pe.d(1),pe=gt(o),pe&&(pe.c(),pe.m(x,null))),k[0]&513&&_(P,"startButton",!o[9]&&o[0]>0),k[0]&513&&_(P,"stopButton",o[9]&&o[0]>0),k[0]&1&&_(P,"buttonDisabled",o[0]==0);let Te=q;q=wl(o),q===Te?Ie[q].p(o,k):(hl(),S(Ie[Te],1,1,()=>{Ie[Te]=null}),ml(),M=Ie[q],M?M.p(o,k):(M=Ie[q]=kl[q](o),M.c()),I(M,1),M.m(ie,null)),k[0]&1&&_(K,"buttonDisabled",o[0]<=2),(!qe||k[0]&16)&&Me(_t,o[4]),(!qe||k[0]&16)&&Me(vt,o[4]),k[0]&2048&&_(G,"hidden",!o[11]),k[0]&2048&&_(H,"pb-8",o[11]),k[0]&2048&&_(H,"mb-5",o[11])},i(o){qe||(I(s),I(M),I(de.$$.fragment,o),I(Ve.$$.fragment,o),I(ye.$$.fragment,o),I(Re.$$.fragment,o),I(Oe.$$.fragment,o),I(Ce.$$.fragment,o),I(je.$$.fragment,o),I(Le.$$.fragment,o),I(ze.$$.fragment,o),I(He.$$.fragment,o),qe=!0)},o(o){S(s),S(M),S(de.$$.fragment,o),S(Ve.$$.fragment,o),S(ye.$$.fragment,o),S(Re.$$.fragment,o),S(Oe.$$.fragment,o),S(Ce.$$.fragment,o),S(je.$$.fragment,o),S(Le.$$.fragment,o),S(ze.$$.fragment,o),S(He.$$.fragment,o),qe=!1},d(o){o&&a(t),Se[e].d(),o&&a(n),o&&a(h),o&&a(Fe),o&&a(Q),U&&U.d(),Y.d(),pe.d(),Ie[q].d(),C(de),C(Ve),C(ye),C(Re),C(Oe),C(Ce),C(je),C(Le),C(ze),C(He),ul=!1,Zl(_l)}}}function vs(r){let t,e;return t=new F({props:{icon:is,size:"2x"}}),{c(){y(t.$$.fragment)},l(s){R(t.$$.fragment,s)},m(s,n){O(t,s,n),e=!0},p:ht,i(s){e||(I(t.$$.fragment,s),e=!0)},o(s){S(t.$$.fragment,s),e=!1},d(s){C(t,s)}}}function ps(r){let t,e;return t=new F({props:{icon:cs,size:"2x"}}),{c(){y(t.$$.fragment)},l(s){R(t.$$.fragment,s)},m(s,n){O(t,s,n),e=!0},p:ht,i(s){e||(I(t.$$.fragment,s),e=!0)},o(s){S(t.$$.fragment,s),e=!1},d(s){C(t,s)}}}function Yl(r){let t,e;return{c(){t=u("span"),e=w(r[6]),this.h()},l(s){t=d(s,"SPAN",{class:!0});var n=m(t);e=$(n,r[6]),n.forEach(a),this.h()},h(){f(t,"class","title mt-5 svelte-2i7fof")},m(s,n){B(s,t,n),l(t,e)},p(s,n){n[0]&64&&Me(e,s[6])},d(s){s&&a(t)}}}function gs(r){let t,e,s,n,h,b;return{c(){t=u("div"),e=u("span"),s=w(r[1]),n=v(),h=u("span"),b=w(r[2]),this.h()},l(i){t=d(i,"DIV",{class:!0});var c=m(t);e=d(c,"SPAN",{class:!0});var T=m(e);s=$(T,r[1]),T.forEach(a),n=p(c),h=d(c,"SPAN",{class:!0});var g=m(h);b=$(g,r[2]),g.forEach(a),c.forEach(a),this.h()},h(){f(e,"class","clock svelte-2i7fof"),_(e,"text-red-600",r[8]),_(e,"clock-small",r[6]),_(e,"clock-large",!r[6]),f(h,"class","clock svelte-2i7fof"),_(h,"text-red-600",r[8]),_(h,"clock-small",r[6]),_(h,"clock-large",!r[6]),f(t,"class","flex portrait:flex-col landscape:flex-row")},m(i,c){B(i,t,c),l(t,e),l(e,s),l(t,n),l(t,h),l(h,b)},p(i,c){c[0]&2&&Me(s,i[1]),c[0]&256&&_(e,"text-red-600",i[8]),c[0]&64&&_(e,"clock-small",i[6]),c[0]&64&&_(e,"clock-large",!i[6]),c[0]&4&&Me(b,i[2]),c[0]&256&&_(h,"text-red-600",i[8]),c[0]&64&&_(h,"clock-small",i[6]),c[0]&64&&_(h,"clock-large",!i[6])},d(i){i&&a(t)}}}function bs(r){let t,e;return{c(){t=u("span"),e=w(r[7]),this.h()},l(s){t=d(s,"SPAN",{class:!0});var n=m(t);e=$(n,r[7]),n.forEach(a),this.h()},h(){f(t,"class","clock svelte-2i7fof"),_(t,"text-red-600",r[8]),_(t,"clock-small",r[6]),_(t,"clock-large",!r[6])},m(s,n){B(s,t,n),l(t,e)},p(s,n){n[0]&128&&Me(e,s[7]),n[0]&256&&_(t,"text-red-600",s[8]),n[0]&64&&_(t,"clock-small",s[6]),n[0]&64&&_(t,"clock-large",!s[6])},d(s){s&&a(t)}}}function ks(r){let t;return{c(){t=w("START")},l(e){t=$(e,"START")},m(e,s){B(e,t,s)},d(e){e&&a(t)}}}function ws(r){let t;return{c(){t=w("STOP")},l(e){t=$(e,"STOP")},m(e,s){B(e,t,s)},d(e){e&&a(t)}}}function $s(r){let t,e,s,n,h,b;return e=new F({props:{icon:us}}),{c(){t=u("div"),y(e.$$.fragment),s=v(),n=u("span"),h=w("Show advanced controls"),this.h()},l(i){t=d(i,"DIV",{class:!0});var c=m(t);R(e.$$.fragment,c),c.forEach(a),s=p(i),n=d(i,"SPAN",{class:!0});var T=m(n);h=$(T,"Show advanced controls"),T.forEach(a),this.h()},h(){f(t,"class","mt-1"),f(n,"class","ml-2")},m(i,c){B(i,t,c),O(e,t,null),B(i,s,c),B(i,n,c),l(n,h),b=!0},p:ht,i(i){b||(I(e.$$.fragment,i),b=!0)},o(i){S(e.$$.fragment,i),b=!1},d(i){i&&a(t),C(e),i&&a(s),i&&a(n)}}}function Es(r){let t,e,s,n,h,b;return e=new F({props:{icon:ds}}),{c(){t=u("div"),y(e.$$.fragment),s=v(),n=u("span"),h=w("Hide advanced controls"),this.h()},l(i){t=d(i,"DIV",{class:!0});var c=m(t);R(e.$$.fragment,c),c.forEach(a),s=p(i),n=d(i,"SPAN",{class:!0});var T=m(n);h=$(T,"Hide advanced controls"),T.forEach(a),this.h()},h(){f(t,"class","mt-1"),f(n,"class","ml-2")},m(i,c){B(i,t,c),O(e,t,null),B(i,s,c),B(i,n,c),l(n,h),b=!0},p:ht,i(i){b||(I(e.$$.fragment,i),b=!0)},o(i){S(e.$$.fragment,i),b=!1},d(i){i&&a(t),C(e),i&&a(s),i&&a(n)}}}function Ss(r){let t,e,s,n,h,b;const i=[_s,hs],c=[];function T(g,N){return g[5]?0:1}return e=T(r),s=c[e]=i[e](r),{c(){t=u("div"),s.c(),this.h()},l(g){t=d(g,"DIV",{id:!0,class:!0});var N=m(t);s.l(N),N.forEach(a),this.h()},h(){f(t,"id","main"),f(t,"class","w-full h-full svelte-2i7fof")},m(g,N){B(g,t,N),c[e].m(t,null),n=!0,h||(b=[A(ms,"keydown",r[23]),A(t,"click",r[13],{once:!0})],h=!0)},p(g,N){let X=e;e=T(g),e===X?c[e].p(g,N):(hl(),S(c[X],1,1,()=>{c[X]=null}),ml(),s=c[e],s?s.p(g,N):(s=c[e]=i[e](g),s.c()),I(s,1),s.m(t,null))},i(g){n||(I(s),n=!0)},o(g){S(s),n=!1},d(g){g&&a(t),c[e].d(),h=!1,Zl(b)}}}function Is(r,t,e){let s;ls(r,ns,D=>e(36,s=D));let n=s.params.roomId,h,b,i=!1,c,T,g,N="",X="",Ne="",j=!1,Z,ae,oe=!1,L,ne=!0;ss(()=>{e(4,b=window.location.host),s.url.searchParams.has("pin")?e(3,h=s.url.searchParams.get("pin")):(e(3,h=sessionStorage.getItem("PIN-"+n)),h||e(3,h=prompt("Please enter the control PIN for room "+n))),h?(sessionStorage.setItem("PIN-"+n,h),Q(h,s.url.searchParams),L=new Audio(J+"/audio/beep.mp3")):dl(J+"/"),navigator.share&&e(11,ne=!1)});function Fe(){e(10,oe=!0),L.play(),L.pause(),L.load()}function Q(D,Be){c=new WebSocket(as+"://"+os+"/"+n+"?pin="+D),c.onerror=function(E){console.log(E)},c.onmessage=function(E){if(E.data==="ROOM_NOT_FOUND")alert("The room "+n+" does not exist"),dl(J+"/");else if(E.data==="WRONG_PIN")alert("Wrong PIN"),sessionStorage.removeItem("PIN-"+n),dl(J+"/");else if(E.data==="AUTHENTICATED")e(5,i=!0),Be.has("shotclock")&&c.send("setInitialShotclock;"+s.url.searchParams.get("shotclock")),Be.has("timeout")&&c.send("setTimeout;"+s.url.searchParams.get("timeout")),Be.has("quarter")&&c.send("setQuarter;"+s.url.searchParams.get("quarter"));else if(E.data==="HORN")We();else{let de=E.data.substring(0,1),Pe=E.data.substring(2).includes(";")?E.data.substring(2).split(";"):[E.data.substring(2)];switch(de){case"t":e(0,g=parseInt(Pe[1])),g==0?ee():ft();break;case"r":e(9,Z=Pe[0]==="1");break;case"T":e(6,T=Pe[0]),T==""&&e(6,T=void 0);break}}}}function W(){Z?c.send("pause"):c.send("start")}function De(){c.send("reset")}function nt(){c.send("rewind")}function z(D){c.send("updateTime;"+D)}function P(){c.send("horn")}function x(){c.send("timeout")}function Qe(){c.send("quarter")}function ee(){ae===void 0&&(e(8,j=!0),We(),ae=setInterval(function(){e(8,j=!j)},500))}function ft(){ae&&(clearInterval(ae),ae=void 0,e(8,j=!1))}function We(){oe&&(L.play(),setTimeout(function(){L.pause(),L.load()},2e3))}function H(){navigator.share&&navigator.share({title:"Shot Clock room "+n,url:J+"/room/"+n})}function fe(){navigator.share&&navigator.share({title:"Shot Clock controller "+n,url:J+"/control/"+n})}function ie(D){D.key===" "||D.key==="Enter"?(W(),D.preventDefault()):(D.key.toLowerCase()==="m"||D.key.toLowerCase()==="c"||D.key==="Backspace")&&(De(),D.preventDefault())}const q=()=>e(10,oe=!oe),M=()=>e(11,ne=!ne),it=()=>z(-5),G=()=>z(-1),V=()=>z(1),ce=()=>z(5),ct=()=>P(),ut=()=>x(),ue=()=>Qe();return r.$$.update=()=>{r.$$.dirty[0]&7&&g!==void 0&&(g<=60?e(7,N=g.toString().padStart(2,"0")):(e(1,X=Math.floor(g/60).toString().padStart(2,"0")+":"),e(2,Ne=(g%60).toString().padStart(2,"0")),e(7,N=X+Ne)))},[g,X,Ne,h,b,i,T,N,j,Z,oe,ne,n,Fe,W,De,nt,z,P,x,Qe,H,fe,ie,q,M,it,G,V,ce,ct,ut,ue]}class Vs extends xl{constructor(t){super(),es(this,t,Is,Ss,ts,{},null,[-1,-1])}}export{Vs as default};
