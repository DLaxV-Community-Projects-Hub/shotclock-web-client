import{S as Es,i as Ss,s as Is,e as f,c as i,a as c,d as a,b as n,g as P,R as D,o as S,p as Cl,q as I,G as ws,I as Ts,v as Ns,T as Ds,n as jl,w as B,x as V,y as U,E as Et,B as A,t as g,h as b,Q as e,j as Je,k as _,m as p,U as v}from"../../chunks/index-0ad21126.js";import{w as Bs,s as Vs,p as Us}from"../../chunks/config-ff7e6c89.js";import{b as X}from"../../chunks/singletons-1b661bce.js";import{L as As,F as j,f as vs,a as gs,b as bs,c as Xt,d as ks,e as Ps,g as ys,h as Rs,i as Os}from"../../chunks/LoadingInfo-418234a4.js";import{g as Ol}from"../../chunks/navigation-d1154fc1.js";const{window:Cs}=Ds;function js(r){let l,t;return l=new As({}),{c(){B(l.$$.fragment)},l(s){V(l.$$.fragment,s)},m(s,u){U(l,s,u),t=!0},p:Et,i(s){t||(I(l.$$.fragment,s),t=!0)},o(s){S(l.$$.fragment,s),t=!1},d(s){A(l,s)}}}function Ls(r){let l,t,s,u,h,$,m,d,T,k,N,Y,ye,H,te,ne,fe,z,ie,Xe,F,W,Re,mt,q,y,le,Ye,Z,ht,_t,L,ce,ue,x,M,pt,G,R,de,vt,gt,me,bt,kt,E,O,Q,he,Oe,Ce,Yt,Zt,je,el,tl,ke,K,$e,J,Le,ll,He,sl,Ze,rl,al,we,se,ze,ol,qe,nl,et,fl,il,Ee,re,xe,cl,Me,ul,tt,dl,ml,Se,ae,Qe,hl,Fe,_l,lt,pl,vl,Ie,Te,Ne,st,gl,bl,_e,St,kl,$l,wl,El,rt,at,pe,ot,Sl,Il,We,Tl,De,Be,nt,Nl,Dl,ve,It,Bl,Vl,Ul,Al,ft,it,ge,ct,Pl,yl,Ge,Ke,Rl,Ll;const Hl=[zs,Hs],Ve=[];function zl(o,w){return o[10]?0:1}t=zl(r),s=Ve[t]=Hl[t](r);let C=r[6]&&$s(r);function ql(o,w){return o[0]<=60?xs:qs}let Tt=ql(r),ee=Tt(r);function xl(o,w){return o[9]?Qs:Ms}let Nt=xl(r),be=Nt(r);const Ml=[Ws,Fs],Ue=[];function Ql(o,w){return o[11]?0:1}return x=Ql(r),M=Ue[x]=Ml[x](r),O=new j({props:{class:"w-full lg:hidden",icon:vs}}),he=new j({props:{class:"w-full hidden lg:block",icon:vs,size:"2x"}}),Le=new j({props:{class:"w-full lg:hidden",icon:gs}}),He=new j({props:{class:"w-full hidden lg:block",icon:gs,size:"2x"}}),ze=new j({props:{class:"w-full lg:hidden",icon:bs}}),qe=new j({props:{class:"w-full hidden lg:block",icon:bs,size:"2x"}}),xe=new j({props:{class:"w-full lg:hidden",icon:Xt}}),Me=new j({props:{class:"w-full hidden lg:block",icon:Xt,size:"2x"}}),Qe=new j({props:{class:"w-full lg:hidden",icon:Xt}}),Fe=new j({props:{class:"w-full hidden lg:block",icon:Xt,size:"2x"}}),We=new j({props:{icon:ks,size:"lg"}}),Ge=new j({props:{icon:ks,size:"lg"}}),{c(){l=f("div"),s.c(),u=_(),h=f("div"),$=f("div"),m=f("div"),d=f("span"),T=g("Room"),k=_(),N=f("span"),Y=g(r[12]),ye=_(),H=f("div"),te=f("span"),ne=g("PIN"),fe=_(),z=f("span"),ie=g(r[3]),Xe=_(),F=f("div"),W=f("div"),C&&C.c(),Re=_(),ee.c(),mt=_(),q=f("div"),y=f("button"),le=f("span"),be.c(),Ye=_(),Z=f("button"),ht=g("RESET"),_t=_(),L=f("div"),ce=f("button"),ue=f("div"),M.c(),pt=_(),G=f("div"),R=f("div"),de=f("button"),vt=g("-5s"),gt=_(),me=f("button"),bt=g("-1s"),kt=_(),E=f("button"),B(O.$$.fragment),Q=_(),B(he.$$.fragment),Oe=_(),Ce=f("button"),Yt=g("+1s"),Zt=_(),je=f("button"),el=g("+5s"),tl=_(),ke=f("div"),K=f("div"),$e=f("div"),J=f("button"),B(Le.$$.fragment),ll=_(),B(He.$$.fragment),sl=_(),Ze=f("span"),rl=g("Horn"),al=_(),we=f("div"),se=f("button"),B(ze.$$.fragment),ol=_(),B(qe.$$.fragment),nl=_(),et=f("span"),fl=g("Timeout"),il=_(),Ee=f("div"),re=f("button"),B(xe.$$.fragment),cl=_(),B(Me.$$.fragment),ul=_(),tt=f("span"),dl=g("Quarter"),ml=_(),Se=f("div"),ae=f("button"),B(Qe.$$.fragment),hl=_(),B(Fe.$$.fragment),_l=_(),lt=f("span"),pl=g("Halftime"),vl=_(),Ie=f("div"),Te=f("div"),Ne=f("div"),st=f("span"),gl=g("Shot clock URL"),bl=_(),_e=f("a"),St=g(r[4]),kl=g(X),$l=g("/room/"),wl=g(r[12]),El=_(),rt=f("div"),at=f("button"),pe=f("div"),ot=f("span"),Sl=g("Share shot clock URL"),Il=_(),B(We.$$.fragment),Tl=_(),De=f("div"),Be=f("div"),nt=f("span"),Nl=g("Controller URL"),Dl=_(),ve=f("a"),It=g(r[4]),Bl=g(X),Vl=g("/control/"),Ul=g(r[12]),Al=_(),ft=f("div"),it=f("button"),ge=f("div"),ct=f("span"),Pl=g("Share Controller URL"),yl=_(),B(Ge.$$.fragment),this.h()},l(o){l=i(o,"DIV",{class:!0});var w=c(l);s.l(w),w.forEach(a),u=p(o),h=i(o,"DIV",{class:!0});var ut=c(h);$=i(ut,"DIV",{class:!0});var Ae=c($);m=i(Ae,"DIV",{class:!0});var Dt=c(m);d=i(Dt,"SPAN",{class:!0});var Fl=c(d);T=b(Fl,"Room"),Fl.forEach(a),k=p(Dt),N=i(Dt,"SPAN",{class:!0});var Wl=c(N);Y=b(Wl,r[12]),Wl.forEach(a),Dt.forEach(a),ye=p(Ae),H=i(Ae,"DIV",{class:!0});var Bt=c(H);te=i(Bt,"SPAN",{class:!0});var Gl=c(te);ne=b(Gl,"PIN"),Gl.forEach(a),fe=p(Bt),z=i(Bt,"SPAN",{class:!0});var Kl=c(z);ie=b(Kl,r[3]),Kl.forEach(a),Bt.forEach(a),Ae.forEach(a),ut.forEach(a),Xe=p(o),F=i(o,"DIV",{class:!0});var dt=c(F);W=i(dt,"DIV",{class:!0});var Vt=c(W);C&&C.l(Vt),Re=p(Vt),ee.l(Vt),Vt.forEach(a),mt=p(dt),q=i(dt,"DIV",{class:!0});var Ut=c(q);y=i(Ut,"BUTTON",{class:!0});var Jl=c(y);le=i(Jl,"SPAN",{title:!0});var Xl=c(le);be.l(Xl),Xl.forEach(a),Jl.forEach(a),Ye=p(Ut),Z=i(Ut,"BUTTON",{class:!0,title:!0});var Yl=c(Z);ht=b(Yl,"RESET"),Yl.forEach(a),Ut.forEach(a),_t=p(dt),L=i(dt,"DIV",{class:!0});var At=c(L);ce=i(At,"BUTTON",{class:!0});var Zl=c(ce);ue=i(Zl,"DIV",{class:!0});var es=c(ue);M.l(es),es.forEach(a),Zl.forEach(a),pt=p(At),G=i(At,"DIV",{class:!0});var Pt=c(G);R=i(Pt,"DIV",{class:!0});var oe=c(R);de=i(oe,"BUTTON",{class:!0});var ts=c(de);vt=b(ts,"-5s"),ts.forEach(a),gt=p(oe),me=i(oe,"BUTTON",{class:!0});var ls=c(me);bt=b(ls,"-1s"),ls.forEach(a),kt=p(oe),E=i(oe,"BUTTON",{class:!0,title:!0});var yt=c(E);V(O.$$.fragment,yt),Q=p(yt),V(he.$$.fragment,yt),yt.forEach(a),Oe=p(oe),Ce=i(oe,"BUTTON",{class:!0});var ss=c(Ce);Yt=b(ss,"+1s"),ss.forEach(a),Zt=p(oe),je=i(oe,"BUTTON",{class:!0});var rs=c(je);el=b(rs,"+5s"),rs.forEach(a),oe.forEach(a),tl=p(Pt),ke=i(Pt,"DIV",{class:!0});var Rt=c(ke);K=i(Rt,"DIV",{class:!0});var Pe=c(K);$e=i(Pe,"DIV",{class:!0});var Ot=c($e);J=i(Ot,"BUTTON",{class:!0,title:!0});var Ct=c(J);V(Le.$$.fragment,Ct),ll=p(Ct),V(He.$$.fragment,Ct),Ct.forEach(a),sl=p(Ot),Ze=i(Ot,"SPAN",{class:!0});var as=c(Ze);rl=b(as,"Horn"),as.forEach(a),Ot.forEach(a),al=p(Pe),we=i(Pe,"DIV",{class:!0});var jt=c(we);se=i(jt,"BUTTON",{class:!0,title:!0});var Lt=c(se);V(ze.$$.fragment,Lt),ol=p(Lt),V(qe.$$.fragment,Lt),Lt.forEach(a),nl=p(jt),et=i(jt,"SPAN",{class:!0});var os=c(et);fl=b(os,"Timeout"),os.forEach(a),jt.forEach(a),il=p(Pe),Ee=i(Pe,"DIV",{class:!0});var Ht=c(Ee);re=i(Ht,"BUTTON",{class:!0,title:!0});var zt=c(re);V(xe.$$.fragment,zt),cl=p(zt),V(Me.$$.fragment,zt),zt.forEach(a),ul=p(Ht),tt=i(Ht,"SPAN",{class:!0});var ns=c(tt);dl=b(ns,"Quarter"),ns.forEach(a),Ht.forEach(a),ml=p(Pe),Se=i(Pe,"DIV",{class:!0});var qt=c(Se);ae=i(qt,"BUTTON",{class:!0,title:!0});var xt=c(ae);V(Qe.$$.fragment,xt),hl=p(xt),V(Fe.$$.fragment,xt),xt.forEach(a),_l=p(qt),lt=i(qt,"SPAN",{class:!0});var fs=c(lt);pl=b(fs,"Halftime"),fs.forEach(a),qt.forEach(a),Pe.forEach(a),vl=p(Rt),Ie=i(Rt,"DIV",{class:!0});var Mt=c(Ie);Te=i(Mt,"DIV",{class:!0});var Qt=c(Te);Ne=i(Qt,"DIV",{class:!0});var Ft=c(Ne);st=i(Ft,"SPAN",{class:!0});var is=c(st);gl=b(is,"Shot clock URL"),is.forEach(a),bl=p(Ft),_e=i(Ft,"A",{href:!0});var $t=c(_e);St=b($t,r[4]),kl=b($t,X),$l=b($t,"/room/"),wl=b($t,r[12]),$t.forEach(a),Ft.forEach(a),El=p(Qt),rt=i(Qt,"DIV",{});var cs=c(rt);at=i(cs,"BUTTON",{class:!0});var us=c(at);pe=i(us,"DIV",{class:!0});var Wt=c(pe);ot=i(Wt,"SPAN",{class:!0});var ds=c(ot);Sl=b(ds,"Share shot clock URL"),ds.forEach(a),Il=p(Wt),V(We.$$.fragment,Wt),Wt.forEach(a),us.forEach(a),cs.forEach(a),Qt.forEach(a),Tl=p(Mt),De=i(Mt,"DIV",{class:!0});var Gt=c(De);Be=i(Gt,"DIV",{class:!0});var Kt=c(Be);nt=i(Kt,"SPAN",{class:!0});var ms=c(nt);Nl=b(ms,"Controller URL"),ms.forEach(a),Dl=p(Kt),ve=i(Kt,"A",{href:!0});var wt=c(ve);It=b(wt,r[4]),Bl=b(wt,X),Vl=b(wt,"/control/"),Ul=b(wt,r[12]),wt.forEach(a),Kt.forEach(a),Al=p(Gt),ft=i(Gt,"DIV",{});var hs=c(ft);it=i(hs,"BUTTON",{class:!0});var _s=c(it);ge=i(_s,"DIV",{class:!0});var Jt=c(ge);ct=i(Jt,"SPAN",{class:!0});var ps=c(ct);Pl=b(ps,"Share Controller URL"),ps.forEach(a),yl=p(Jt),V(Ge.$$.fragment,Jt),Jt.forEach(a),_s.forEach(a),hs.forEach(a),Gt.forEach(a),Mt.forEach(a),Rt.forEach(a),Pt.forEach(a),At.forEach(a),dt.forEach(a),this.h()},h(){n(l,"class","absolute top-3 left-3"),n(d,"class","text-xs"),n(N,"class","text-xl"),n(m,"class","mr-5"),n(te,"class","text-xs"),n(z,"class","text-xl"),n(H,"class",""),n($,"class","flex flex-row"),n(h,"class","absolute top-3 right-3"),n(W,"class","flex flex-col justify-center items-center m-5 lg:mr-20 lg:m-0"),n(le,"title","Hotkeys: Spacebar, Enter"),n(y,"class","controlButton svelte-2i7fof"),v(y,"startButton",!r[9]&&r[0]>0),v(y,"stopButton",r[9]&&r[0]>0),v(y,"buttonDisabled",r[0]==0),n(Z,"class","controlButton shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(Z,"title","Hotkeys: M, C, Backspace"),n(q,"class","flex flex-row lg:flex-col justify-evenly m-5 lg:m-0"),n(ue,"class","flex flex-row justify-center"),n(ce,"class","lg:hidden"),n(de,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(me,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(E,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(E,"title","Rewind to last reset"),n(Ce,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(je,"class","controlButtonSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(R,"class","flex flex-row lg:flex-col justify-evenly mt-5 lg:mt-0 lg:ml-20"),n(J,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(J,"title","Manual horn"),v(J,"buttonDisabled",r[0]<=2),n(Ze,"class","mt-1"),n($e,"class","my-5 flex flex-col items-center"),n(se,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(se,"title","Timeout"),n(et,"class","mt-1"),n(we,"class","my-5 flex flex-col items-center"),n(re,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(re,"title","Quarter"),n(tt,"class","mt-1"),n(Ee,"class","my-5 flex flex-col items-center"),n(ae,"class","controlButtonExtraSmall shadow-reset text-white bg-button-bg-reset svelte-2i7fof"),n(ae,"title","Quarter"),n(lt,"class","mt-1"),n(Se,"class","my-5 flex flex-col items-center"),n(K,"class","lg:text-right flex flex-row lg:flex-col justify-evenly lg:justify-start m-3 mt-1"),n(st,"class","text-xs"),n(_e,"href",X+"/room/"+r[12]),n(Ne,"class","hidden lg:flex flex-col mb-3"),n(ot,"class","mr-2"),n(pe,"class","flex flex-row items-center"),n(at,"class","shareButton lg:text-lg svelte-2i7fof"),v(rt,"hidden",!navigator.share),n(Te,"class","w-1/2 lg:w-full"),n(nt,"class","text-xs"),n(ve,"href",X+"/control/"+r[12]),n(Be,"class","hidden lg:flex flex-col mb-3"),n(ct,"class","mr-2"),n(ge,"class","flex flex-row items-center"),n(it,"class","shareButton lg:text-lg svelte-2i7fof"),v(ft,"hidden",!navigator.share),n(De,"class","w-1/2 lg:w-full"),n(Ie,"class","lg:text-right flex flex-row lg:flex-col justify-between lg:justify-start m-3 lg:mt-20"),n(ke,"class","flex flex-col lg:flex-col-reverse lg:justify-end"),n(G,"class","h-full flex flex-col lg:flex-row justify-between lg:pb-0"),v(G,"hidden",!r[11]),n(L,"class","w--7/8 lg:w-full mx-2 lg:mx-0 p-1 lg:p-0 border lg:border-0 rounded mt-3 lg:mt-0"),v(L,"pb-8",r[11]),v(L,"mb-5",r[11]),n(F,"class","lg:h-full w-full flex flex-col lg:flex-row justify-start lg:justify-between")},m(o,w){P(o,l,w),Ve[t].m(l,null),P(o,u,w),P(o,h,w),e(h,$),e($,m),e(m,d),e(d,T),e(m,k),e(m,N),e(N,Y),e($,ye),e($,H),e(H,te),e(te,ne),e(H,fe),e(H,z),e(z,ie),P(o,Xe,w),P(o,F,w),e(F,W),C&&C.m(W,null),e(W,Re),ee.m(W,null),e(F,mt),e(F,q),e(q,y),e(y,le),be.m(le,null),e(q,Ye),e(q,Z),e(Z,ht),e(F,_t),e(F,L),e(L,ce),e(ce,ue),Ue[x].m(ue,null),e(L,pt),e(L,G),e(G,R),e(R,de),e(de,vt),e(R,gt),e(R,me),e(me,bt),e(R,kt),e(R,E),U(O,E,null),e(E,Q),U(he,E,null),e(R,Oe),e(R,Ce),e(Ce,Yt),e(R,Zt),e(R,je),e(je,el),e(G,tl),e(G,ke),e(ke,K),e(K,$e),e($e,J),U(Le,J,null),e(J,ll),U(He,J,null),e($e,sl),e($e,Ze),e(Ze,rl),e(K,al),e(K,we),e(we,se),U(ze,se,null),e(se,ol),U(qe,se,null),e(we,nl),e(we,et),e(et,fl),e(K,il),e(K,Ee),e(Ee,re),U(xe,re,null),e(re,cl),U(Me,re,null),e(Ee,ul),e(Ee,tt),e(tt,dl),e(K,ml),e(K,Se),e(Se,ae),U(Qe,ae,null),e(ae,hl),U(Fe,ae,null),e(Se,_l),e(Se,lt),e(lt,pl),e(ke,vl),e(ke,Ie),e(Ie,Te),e(Te,Ne),e(Ne,st),e(st,gl),e(Ne,bl),e(Ne,_e),e(_e,St),e(_e,kl),e(_e,$l),e(_e,wl),e(Te,El),e(Te,rt),e(rt,at),e(at,pe),e(pe,ot),e(ot,Sl),e(pe,Il),U(We,pe,null),e(Ie,Tl),e(Ie,De),e(De,Be),e(Be,nt),e(nt,Nl),e(Be,Dl),e(Be,ve),e(ve,It),e(ve,Bl),e(ve,Vl),e(ve,Ul),e(De,Al),e(De,ft),e(ft,it),e(it,ge),e(ge,ct),e(ct,Pl),e(ge,yl),U(Ge,ge,null),Ke=!0,Rl||(Ll=[D(l,"click",r[25]),D(y,"click",r[14]),D(Z,"click",r[15]),D(ce,"click",r[26]),D(de,"click",r[27]),D(me,"click",r[28]),D(E,"click",r[16]),D(Ce,"click",r[29]),D(je,"click",r[30]),D(J,"click",r[31]),D(se,"click",r[32]),D(re,"click",r[33]),D(ae,"click",r[34]),D(pe,"click",r[22]),D(ge,"click",r[23])],Rl=!0)},p(o,w){let ut=t;t=zl(o),t===ut?Ve[t].p(o,w):(jl(),S(Ve[ut],1,1,()=>{Ve[ut]=null}),Cl(),s=Ve[t],s?s.p(o,w):(s=Ve[t]=Hl[t](o),s.c()),I(s,1),s.m(l,null)),(!Ke||w[0]&8)&&Je(ie,o[3]),o[6]?C?C.p(o,w):(C=$s(o),C.c(),C.m(W,Re)):C&&(C.d(1),C=null),Tt===(Tt=ql(o))&&ee?ee.p(o,w):(ee.d(1),ee=Tt(o),ee&&(ee.c(),ee.m(W,null))),Nt!==(Nt=xl(o))&&(be.d(1),be=Nt(o),be&&(be.c(),be.m(le,null))),w[0]&513&&v(y,"startButton",!o[9]&&o[0]>0),w[0]&513&&v(y,"stopButton",o[9]&&o[0]>0),w[0]&1&&v(y,"buttonDisabled",o[0]==0);let Ae=x;x=Ql(o),x===Ae?Ue[x].p(o,w):(jl(),S(Ue[Ae],1,1,()=>{Ue[Ae]=null}),Cl(),M=Ue[x],M?M.p(o,w):(M=Ue[x]=Ml[x](o),M.c()),I(M,1),M.m(ue,null)),w[0]&1&&v(J,"buttonDisabled",o[0]<=2),(!Ke||w[0]&16)&&Je(St,o[4]),(!Ke||w[0]&16)&&Je(It,o[4]),w[0]&2048&&v(G,"hidden",!o[11]),w[0]&2048&&v(L,"pb-8",o[11]),w[0]&2048&&v(L,"mb-5",o[11])},i(o){Ke||(I(s),I(M),I(O.$$.fragment,o),I(he.$$.fragment,o),I(Le.$$.fragment,o),I(He.$$.fragment,o),I(ze.$$.fragment,o),I(qe.$$.fragment,o),I(xe.$$.fragment,o),I(Me.$$.fragment,o),I(Qe.$$.fragment,o),I(Fe.$$.fragment,o),I(We.$$.fragment,o),I(Ge.$$.fragment,o),Ke=!0)},o(o){S(s),S(M),S(O.$$.fragment,o),S(he.$$.fragment,o),S(Le.$$.fragment,o),S(He.$$.fragment,o),S(ze.$$.fragment,o),S(qe.$$.fragment,o),S(xe.$$.fragment,o),S(Me.$$.fragment,o),S(Qe.$$.fragment,o),S(Fe.$$.fragment,o),S(We.$$.fragment,o),S(Ge.$$.fragment,o),Ke=!1},d(o){o&&a(l),Ve[t].d(),o&&a(u),o&&a(h),o&&a(Xe),o&&a(F),C&&C.d(),ee.d(),be.d(),Ue[x].d(),A(O),A(he),A(Le),A(He),A(ze),A(qe),A(xe),A(Me),A(Qe),A(Fe),A(We),A(Ge),Rl=!1,ws(Ll)}}}function Hs(r){let l,t;return l=new j({props:{icon:Ps,size:"2x"}}),{c(){B(l.$$.fragment)},l(s){V(l.$$.fragment,s)},m(s,u){U(l,s,u),t=!0},p:Et,i(s){t||(I(l.$$.fragment,s),t=!0)},o(s){S(l.$$.fragment,s),t=!1},d(s){A(l,s)}}}function zs(r){let l,t;return l=new j({props:{icon:ys,size:"2x"}}),{c(){B(l.$$.fragment)},l(s){V(l.$$.fragment,s)},m(s,u){U(l,s,u),t=!0},p:Et,i(s){t||(I(l.$$.fragment,s),t=!0)},o(s){S(l.$$.fragment,s),t=!1},d(s){A(l,s)}}}function $s(r){let l,t;return{c(){l=f("span"),t=g(r[6]),this.h()},l(s){l=i(s,"SPAN",{class:!0});var u=c(l);t=b(u,r[6]),u.forEach(a),this.h()},h(){n(l,"class","title mt-5 svelte-2i7fof")},m(s,u){P(s,l,u),e(l,t)},p(s,u){u[0]&64&&Je(t,s[6])},d(s){s&&a(l)}}}function qs(r){let l,t,s,u,h,$;return{c(){l=f("div"),t=f("span"),s=g(r[1]),u=_(),h=f("span"),$=g(r[2]),this.h()},l(m){l=i(m,"DIV",{class:!0});var d=c(l);t=i(d,"SPAN",{class:!0});var T=c(t);s=b(T,r[1]),T.forEach(a),u=p(d),h=i(d,"SPAN",{class:!0});var k=c(h);$=b(k,r[2]),k.forEach(a),d.forEach(a),this.h()},h(){n(t,"class","clock svelte-2i7fof"),v(t,"text-red-600",r[8]),v(t,"clock-small",r[6]),v(t,"clock-large",!r[6]),n(h,"class","clock svelte-2i7fof"),v(h,"text-red-600",r[8]),v(h,"clock-small",r[6]),v(h,"clock-large",!r[6]),n(l,"class","flex portrait:flex-col landscape:flex-row")},m(m,d){P(m,l,d),e(l,t),e(t,s),e(l,u),e(l,h),e(h,$)},p(m,d){d[0]&2&&Je(s,m[1]),d[0]&256&&v(t,"text-red-600",m[8]),d[0]&64&&v(t,"clock-small",m[6]),d[0]&64&&v(t,"clock-large",!m[6]),d[0]&4&&Je($,m[2]),d[0]&256&&v(h,"text-red-600",m[8]),d[0]&64&&v(h,"clock-small",m[6]),d[0]&64&&v(h,"clock-large",!m[6])},d(m){m&&a(l)}}}function xs(r){let l,t;return{c(){l=f("span"),t=g(r[7]),this.h()},l(s){l=i(s,"SPAN",{class:!0});var u=c(l);t=b(u,r[7]),u.forEach(a),this.h()},h(){n(l,"class","clock svelte-2i7fof"),v(l,"text-red-600",r[8]),v(l,"clock-small",r[6]),v(l,"clock-large",!r[6])},m(s,u){P(s,l,u),e(l,t)},p(s,u){u[0]&128&&Je(t,s[7]),u[0]&256&&v(l,"text-red-600",s[8]),u[0]&64&&v(l,"clock-small",s[6]),u[0]&64&&v(l,"clock-large",!s[6])},d(s){s&&a(l)}}}function Ms(r){let l;return{c(){l=g("START")},l(t){l=b(t,"START")},m(t,s){P(t,l,s)},d(t){t&&a(l)}}}function Qs(r){let l;return{c(){l=g("STOP")},l(t){l=b(t,"STOP")},m(t,s){P(t,l,s)},d(t){t&&a(l)}}}function Fs(r){let l,t,s,u,h,$;return t=new j({props:{icon:Rs}}),{c(){l=f("div"),B(t.$$.fragment),s=_(),u=f("span"),h=g("Show advanced controls"),this.h()},l(m){l=i(m,"DIV",{class:!0});var d=c(l);V(t.$$.fragment,d),d.forEach(a),s=p(m),u=i(m,"SPAN",{class:!0});var T=c(u);h=b(T,"Show advanced controls"),T.forEach(a),this.h()},h(){n(l,"class","mt-1"),n(u,"class","ml-2")},m(m,d){P(m,l,d),U(t,l,null),P(m,s,d),P(m,u,d),e(u,h),$=!0},p:Et,i(m){$||(I(t.$$.fragment,m),$=!0)},o(m){S(t.$$.fragment,m),$=!1},d(m){m&&a(l),A(t),m&&a(s),m&&a(u)}}}function Ws(r){let l,t,s,u,h,$;return t=new j({props:{icon:Os}}),{c(){l=f("div"),B(t.$$.fragment),s=_(),u=f("span"),h=g("Hide advanced controls"),this.h()},l(m){l=i(m,"DIV",{class:!0});var d=c(l);V(t.$$.fragment,d),d.forEach(a),s=p(m),u=i(m,"SPAN",{class:!0});var T=c(u);h=b(T,"Hide advanced controls"),T.forEach(a),this.h()},h(){n(l,"class","mt-1"),n(u,"class","ml-2")},m(m,d){P(m,l,d),U(t,l,null),P(m,s,d),P(m,u,d),e(u,h),$=!0},p:Et,i(m){$||(I(t.$$.fragment,m),$=!0)},o(m){S(t.$$.fragment,m),$=!1},d(m){m&&a(l),A(t),m&&a(s),m&&a(u)}}}function Gs(r){let l,t,s,u,h,$;const m=[Ls,js],d=[];function T(k,N){return k[5]?0:1}return t=T(r),s=d[t]=m[t](r),{c(){l=f("div"),s.c(),this.h()},l(k){l=i(k,"DIV",{id:!0,class:!0});var N=c(l);s.l(N),N.forEach(a),this.h()},h(){n(l,"id","main"),n(l,"class","w-full h-full svelte-2i7fof")},m(k,N){P(k,l,N),d[t].m(l,null),u=!0,h||($=[D(Cs,"keydown",r[24]),D(l,"click",r[13],{once:!0})],h=!0)},p(k,N){let Y=t;t=T(k),t===Y?d[t].p(k,N):(jl(),S(d[Y],1,1,()=>{d[Y]=null}),Cl(),s=d[t],s?s.p(k,N):(s=d[t]=m[t](k),s.c()),I(s,1),s.m(l,null))},i(k){u||(I(s),u=!0)},o(k){S(s),u=!1},d(k){k&&a(l),d[t].d(),h=!1,ws($)}}}function Ks(r,l,t){let s;Ts(r,Us,E=>t(38,s=E));let u=s.params.roomId,h,$,m=!1,d,T,k,N="",Y="",ye="",H=!1,te,ne,fe=!1,z,ie=!0;Ns(()=>{t(4,$=window.location.host),s.url.searchParams.has("pin")?t(3,h=s.url.searchParams.get("pin")):(t(3,h=sessionStorage.getItem("PIN-"+u)),h||t(3,h=prompt("Please enter the control PIN for room "+u))),h?(sessionStorage.setItem("PIN-"+u,h),F(h,s.url.searchParams),z=new Audio(X+"/audio/beep.mp3")):Ol(X+"/"),navigator.share&&t(11,ie=!1)});function Xe(){t(10,fe=!0),z.play(),z.pause(),z.load()}function F(E,O){d=new WebSocket(Bs+"://"+Vs+"/"+u+"?pin="+E),d.onerror=function(Q){console.log(Q)},d.onmessage=function(Q){if(Q.data==="ROOM_NOT_FOUND")alert("The room "+u+" does not exist"),Ol(X+"/");else if(Q.data==="WRONG_PIN")alert("Wrong PIN"),sessionStorage.removeItem("PIN-"+u),Ol(X+"/");else if(Q.data==="AUTHENTICATED")t(5,m=!0),O.has("shotclock")&&d.send("setInitialShotclock;"+O.get("shotclock")),O.has("timeout")&&d.send("setTimeout;"+O.get("timeout")),O.has("quarter")&&d.send("setQuarter;"+O.get("quarter")),O.has("halftime")&&d.send("setHalftime;"+O.get("halftime"));else if(Q.data==="HORN")L();else{let he=Q.data.substring(0,1),Oe=Q.data.substring(2).includes(";")?Q.data.substring(2).split(";"):[Q.data.substring(2)];switch(he){case"t":t(0,k=parseInt(Oe[1])),k==0?ht():_t();break;case"r":t(9,te=Oe[0]==="1");break;case"T":t(6,T=Oe[0]),T==""&&t(6,T=void 0);break}}}}function W(){te?d.send("pause"):d.send("start")}function Re(){d.send("reset")}function mt(){d.send("rewind")}function q(E){d.send("updateTime;"+E)}function y(){d.send("horn")}function le(){d.send("timeout")}function Ye(){d.send("quarter")}function Z(){d.send("halftime")}function ht(){ne===void 0&&(t(8,H=!0),L(),ne=setInterval(function(){t(8,H=!H)},500))}function _t(){ne&&(clearInterval(ne),ne=void 0,t(8,H=!1))}function L(){fe&&(z.play(),setTimeout(function(){z.pause(),z.load()},2e3))}function ce(){navigator.share&&navigator.share({title:"Shot Clock room "+u,url:X+"/room/"+u})}function ue(){navigator.share&&navigator.share({title:"Shot Clock controller "+u,url:X+"/control/"+u})}function x(E){E.key===" "||E.key==="Enter"?(W(),E.preventDefault()):(E.key.toLowerCase()==="m"||E.key.toLowerCase()==="c"||E.key==="Backspace")&&(Re(),E.preventDefault())}const M=()=>t(10,fe=!fe),pt=()=>t(11,ie=!ie),G=()=>q(-5),R=()=>q(-1),de=()=>q(1),vt=()=>q(5),gt=()=>y(),me=()=>le(),bt=()=>Ye(),kt=()=>Z();return r.$$.update=()=>{r.$$.dirty[0]&7&&k!==void 0&&(k<=60?t(7,N=k.toString().padStart(2,"0")):(t(1,Y=Math.floor(k/60).toString().padStart(2,"0")+":"),t(2,ye=(k%60).toString().padStart(2,"0")),t(7,N=Y+ye)))},[k,Y,ye,h,$,m,T,N,H,te,fe,ie,u,Xe,W,Re,mt,q,y,le,Ye,Z,ce,ue,x,M,pt,G,R,de,vt,gt,me,bt,kt]}class tr extends Es{constructor(l){super(),Ss(this,l,Ks,Gs,Is,{},null,[-1,-1])}}export{tr as default};
